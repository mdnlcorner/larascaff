var f=Object.defineProperty;var _=(i,t,e)=>t in i?f(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var n=(i,t,e)=>_(i,typeof t!="symbol"?t+"":t,e);var o=class{constructor(){n(this,"_instances",{});this._instances={Accordion:{},Carousel:{},Collapse:{},Dial:{},Dismiss:{},Drawer:{},Dropdown:{},Modal:{},Popover:{},Tabs:{},Tooltip:{},InputCounter:{},CopyClipboard:{}}}addInstance(t,e,s,a=!1){if(s||(s=""),!this._instances[t])return console.warn(`Larascaff: Component ${t} does not exist.`),!1;if(this._instances[t][s]&&!a){console.warn(`Larascaff: Instance with ID ${s} already exists.`);return}a&&this._instances[t][s]&&this._instances[t][s].destroyAndRemoveInstance(),this._instances[t][s||this._generateRandomId()]=e}getAllInstances(){return this._instances}getInstances(t){return this._instances[t]?this._instances[t]:(console.warn(`Larascaff: Component ${t} does not exist.`),!1)}getInstance(t,e){if(this._componentAndInstanceCheck(t,e)&&this._instances[t][e])return this._instances[t][e]}destroyAndRemoveInstance(t,e){this._componentAndInstanceCheck(t,e)&&(this.destroyInstanceObject(t,e),this.removeInstance(t,e))}removeInstance(t,e){this._componentAndInstanceCheck(t,e)&&delete this._instances[t][e]}destroyInstanceObject(t,e){this._componentAndInstanceCheck(t,e)&&this._instances[t][e].destroy()}instanceExists(t,e){return!(!this._instances[t]||!this._instances[t][e])}_generateRandomId(){return Math.random().toString(36).substr(2,9)}_componentAndInstanceCheck(t,e){return!(!this._instances[t]||!this._instances[t][e])}},l=new o,c=l;typeof window<"u"&&(window.Larascaff=l);var d={alwaysOpen:!1,onOpen:()=>{},onClose:()=>{},onToggle:()=>{}},u={id:void 0,override:!0},h=i=>({init:function(){let t=[];this.$refs.accordionWrapper.querySelectorAll("[data-accordion-target]").forEach(e=>{if(e.closest("[data-accordion]")===this.$refs.accordionWrapper){let s={id:e.getAttribute("data-accordion-target"),triggerEl:e,targetEl:document.querySelector(e.getAttribute("data-accordion-target")??""),iconEl:e.querySelector("[data-accordion-icon]"),active:e.getAttribute("aria-expanded")==="true"};t.push(s)}}),new r(this.$refs.accordionWrapper,t,{...i})}}),r=class{constructor(t=null,e=[],s=d,a=u){n(this,"_instanceId");n(this,"_accordionEl");n(this,"_items");n(this,"_options");n(this,"_clickHandler");n(this,"_initialized");this._instanceId=a.id?a.id:t?.id??"",this._accordionEl=t,this._items=e,this._options={...d,...s},this._initialized=!1,this._clickHandler=()=>{},this.init(),c.addInstance("Accordion",this,this._instanceId,a.override)}init(){this._items.length&&!this._initialized&&(this._items.forEach(t=>{t.active&&this.open(t.id);let e=()=>{this.toggle(t.id)};t.triggerEl.addEventListener("click",e),t.clickHandler=e}),this._initialized=!0)}destroy(){this._items.length&&this._initialized&&(this._items.forEach(t=>{t.triggerEl.removeEventListener("click",t.clickHandler??function(){}),delete t.clickHandler}),this._initialized=!1)}removeInstance(){c.removeInstance("Accordion",this._instanceId)}destroyAndRemoveInstance(){this.destroy(),this.removeInstance()}getItem(t){return this._items.filter(e=>e.id===t)[0]}open(t){let e=this.getItem(t);this._options.alwaysOpen||this._items.map(s=>{s!==e&&(s.triggerEl.classList.remove("border-b"),s.targetEl.classList.add("hidden"),s.iconEl?.classList.remove("rotate-90"),s.triggerEl.setAttribute("aria-expanded","false"),s.active=!1)}),e.triggerEl.classList.add("border-b"),e.triggerEl.setAttribute("aria-expanded","true"),e.targetEl.classList.add("grid"),e.targetEl.classList.remove("hidden"),e.active=!0,e.iconEl&&e.iconEl.classList.add("rotate-90"),this._options.onOpen&&this._options.onOpen(this,e)}toggle(t){let e=this.getItem(t);e.active?this.close(t):this.open(t),this._options.onToggle&&this._options.onToggle(this,e)}close(t){let e=this.getItem(t);e.triggerEl.classList.remove("border-b"),e.targetEl.classList.toggle("hidden"),e.triggerEl.setAttribute("aria-expanded","false"),e.active=!1,e.iconEl&&e.iconEl.classList.remove("rotate-90"),this._options.onClose&&this._options.onClose(this,e)}updateOnOpen(t){this._options.onOpen=t}updateOnClose(t){this._options.onClose=t}updateOnToggle(t){this._options.onToggle=t}};typeof window<"u"&&(window.Accordion=r,window.initAccordion=h);var v=h;export{v as default};
