var lt=Object.create;var We=Object.defineProperty;var ut=Object.getOwnPropertyDescriptor;var ht=Object.getOwnPropertyNames;var dt=Object.getPrototypeOf,pt=Object.prototype.hasOwnProperty;var ft=(G,ne)=>()=>(ne||G((ne={exports:{}}).exports,ne),ne.exports);var mt=(G,ne,V,oe)=>{if(ne&&typeof ne=="object"||typeof ne=="function")for(let N of ht(ne))!pt.call(G,N)&&N!==V&&We(G,N,{get:()=>ne[N],enumerable:!(oe=ut(ne,N))||oe.enumerable});return G};var _t=(G,ne,V)=>(V=G!=null?lt(dt(G)):{},mt(ne||!G||!G.__esModule?We(V,"default",{value:G,enumerable:!0}):V,G));var $e=ft((Ae,Ke)=>{(function(ne,V){typeof Ae=="object"&&typeof Ke=="object"?Ke.exports=V():typeof define=="function"&&define.amd?define([],V):typeof Ae=="object"?Ae.Choices=V():ne.Choices=V()})(window,function(){return function(){"use strict";var G={282:function(N,i,E){Object.defineProperty(i,"__esModule",{value:!0}),i.clearChoices=i.activateChoices=i.filterChoices=i.addChoice=void 0;var v=E(883),h=function(l){var a=l.value,O=l.label,L=l.id,b=l.groupId,D=l.disabled,B=l.elementId,J=l.customProperties,q=l.placeholder,re=l.keyCode;return{type:v.ACTION_TYPES.ADD_CHOICE,value:a,label:O,id:L,groupId:b,disabled:D,elementId:B,customProperties:J,placeholder:q,keyCode:re}};i.addChoice=h;var d=function(l){return{type:v.ACTION_TYPES.FILTER_CHOICES,results:l}};i.filterChoices=d;var o=function(l){return l===void 0&&(l=!0),{type:v.ACTION_TYPES.ACTIVATE_CHOICES,active:l}};i.activateChoices=o;var n=function(){return{type:v.ACTION_TYPES.CLEAR_CHOICES}};i.clearChoices=n},783:function(N,i,E){Object.defineProperty(i,"__esModule",{value:!0}),i.addGroup=void 0;var v=E(883),h=function(d){var o=d.value,n=d.id,l=d.active,a=d.disabled;return{type:v.ACTION_TYPES.ADD_GROUP,value:o,id:n,active:l,disabled:a}};i.addGroup=h},464:function(N,i,E){Object.defineProperty(i,"__esModule",{value:!0}),i.highlightItem=i.removeItem=i.addItem=void 0;var v=E(883),h=function(n){var l=n.value,a=n.label,O=n.id,L=n.choiceId,b=n.groupId,D=n.customProperties,B=n.placeholder,J=n.keyCode;return{type:v.ACTION_TYPES.ADD_ITEM,value:l,label:a,id:O,choiceId:L,groupId:b,customProperties:D,placeholder:B,keyCode:J}};i.addItem=h;var d=function(n,l){return{type:v.ACTION_TYPES.REMOVE_ITEM,id:n,choiceId:l}};i.removeItem=d;var o=function(n,l){return{type:v.ACTION_TYPES.HIGHLIGHT_ITEM,id:n,highlighted:l}};i.highlightItem=o},137:function(N,i,E){Object.defineProperty(i,"__esModule",{value:!0}),i.setIsLoading=i.resetTo=i.clearAll=void 0;var v=E(883),h=function(){return{type:v.ACTION_TYPES.CLEAR_ALL}};i.clearAll=h;var d=function(n){return{type:v.ACTION_TYPES.RESET_TO,state:n}};i.resetTo=d;var o=function(n){return{type:v.ACTION_TYPES.SET_IS_LOADING,isLoading:n}};i.setIsLoading=o},373:function(N,i,E){var v=this&&this.__spreadArray||function(g,e,t){if(t||arguments.length===2)for(var s=0,c=e.length,_;s<c;s++)(_||!(s in e))&&(_||(_=Array.prototype.slice.call(e,0,s)),_[s]=e[s]);return g.concat(_||Array.prototype.slice.call(e))},h=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(i,"__esModule",{value:!0});var d=h(E(996)),o=h(E(221)),n=E(282),l=E(783),a=E(464),O=E(137),L=E(520),b=E(883),D=E(789),B=E(799),J=E(655),q=h(E(744)),re=h(E(686)),y="-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style,T={},j=function(){function g(e,t){e===void 0&&(e="[data-choice]"),t===void 0&&(t={});var s=this;t.allowHTML===void 0&&console.warn("Deprecation warning: allowHTML will default to false in a future release. To render HTML in Choices, you will need to set it to true. Setting allowHTML will suppress this message."),this.config=d.default.all([D.DEFAULT_CONFIG,g.defaults.options,t],{arrayMerge:function(u,C){return v([],C,!0)}});var c=(0,B.diff)(this.config,D.DEFAULT_CONFIG);c.length&&console.warn("Unknown config option(s) passed",c.join(", "));var _=typeof e=="string"?document.querySelector(e):e;if(!(_ instanceof HTMLInputElement||_ instanceof HTMLSelectElement))throw TypeError("Expected one of the following types text|select-one|select-multiple");if(this._isTextElement=_.type===b.TEXT_TYPE,this._isSelectOneElement=_.type===b.SELECT_ONE_TYPE,this._isSelectMultipleElement=_.type===b.SELECT_MULTIPLE_TYPE,this._isSelectElement=this._isSelectOneElement||this._isSelectMultipleElement,this.config.searchEnabled=this._isSelectMultipleElement||this.config.searchEnabled,["auto","always"].includes("".concat(this.config.renderSelectedChoices))||(this.config.renderSelectedChoices="auto"),t.addItemFilter&&typeof t.addItemFilter!="function"){var P=t.addItemFilter instanceof RegExp?t.addItemFilter:new RegExp(t.addItemFilter);this.config.addItemFilter=P.test.bind(P)}if(this._isTextElement?this.passedElement=new L.WrappedInput({element:_,classNames:this.config.classNames,delimiter:this.config.delimiter}):this.passedElement=new L.WrappedSelect({element:_,classNames:this.config.classNames,template:function(u){return s._templates.option(u)}}),this.initialised=!1,this._store=new q.default,this._initialState=J.defaultState,this._currentState=J.defaultState,this._prevState=J.defaultState,this._currentValue="",this._canSearch=!!this.config.searchEnabled,this._isScrollingOnIe=!1,this._highlightPosition=0,this._wasTap=!0,this._placeholderValue=this._generatePlaceholderValue(),this._baseId=(0,B.generateId)(this.passedElement.element,"choices-"),this._direction=this.passedElement.dir,!this._direction){var M=window.getComputedStyle(this.passedElement.element).direction,R=window.getComputedStyle(document.documentElement).direction;M!==R&&(this._direction=M)}if(this._idNames={itemChoice:"item-choice"},this._isSelectElement&&(this._presetGroups=this.passedElement.optionGroups,this._presetOptions=this.passedElement.options),this._presetChoices=this.config.choices,this._presetItems=this.config.items,this.passedElement.value&&this._isTextElement){var p=this.passedElement.value.split(this.config.delimiter);this._presetItems=this._presetItems.concat(p)}if(this.passedElement.options&&this.passedElement.options.forEach(function(u){s._presetChoices.push({value:u.value,label:u.innerHTML,selected:!!u.selected,disabled:u.disabled||u.parentNode.disabled,placeholder:u.value===""||u.hasAttribute("placeholder"),customProperties:(0,B.parseCustomProperties)(u.dataset.customProperties)})}),this._render=this._render.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this),this._onKeyUp=this._onKeyUp.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onClick=this._onClick.bind(this),this._onTouchMove=this._onTouchMove.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onMouseDown=this._onMouseDown.bind(this),this._onMouseOver=this._onMouseOver.bind(this),this._onFormReset=this._onFormReset.bind(this),this._onSelectKey=this._onSelectKey.bind(this),this._onEnterKey=this._onEnterKey.bind(this),this._onEscapeKey=this._onEscapeKey.bind(this),this._onDirectionKey=this._onDirectionKey.bind(this),this._onDeleteKey=this._onDeleteKey.bind(this),this.passedElement.isActive){this.config.silent||console.warn("Trying to initialise Choices on element already initialised",{element:e}),this.initialised=!0;return}this.init()}return Object.defineProperty(g,"defaults",{get:function(){return Object.preventExtensions({get options(){return T},get templates(){return re.default}})},enumerable:!1,configurable:!0}),g.prototype.init=function(){if(!this.initialised){this._createTemplates(),this._createElements(),this._createStructure(),this._store.subscribe(this._render),this._render(),this._addEventListeners();var e=!this.config.addItems||this.passedElement.element.hasAttribute("disabled");e&&this.disable(),this.initialised=!0;var t=this.config.callbackOnInit;t&&typeof t=="function"&&t.call(this)}},g.prototype.destroy=function(){this.initialised&&(this._removeEventListeners(),this.passedElement.reveal(),this.containerOuter.unwrap(this.passedElement.element),this.clearStore(),this._isSelectElement&&(this.passedElement.options=this._presetOptions),this._templates=re.default,this.initialised=!1)},g.prototype.enable=function(){return this.passedElement.isDisabled&&this.passedElement.enable(),this.containerOuter.isDisabled&&(this._addEventListeners(),this.input.enable(),this.containerOuter.enable()),this},g.prototype.disable=function(){return this.passedElement.isDisabled||this.passedElement.disable(),this.containerOuter.isDisabled||(this._removeEventListeners(),this.input.disable(),this.containerOuter.disable()),this},g.prototype.highlightItem=function(e,t){if(t===void 0&&(t=!0),!e||!e.id)return this;var s=e.id,c=e.groupId,_=c===void 0?-1:c,P=e.value,M=P===void 0?"":P,R=e.label,p=R===void 0?"":R,u=_>=0?this._store.getGroupById(_):null;return this._store.dispatch((0,a.highlightItem)(s,!0)),t&&this.passedElement.triggerEvent(b.EVENTS.highlightItem,{id:s,value:M,label:p,groupValue:u&&u.value?u.value:null}),this},g.prototype.unhighlightItem=function(e){if(!e||!e.id)return this;var t=e.id,s=e.groupId,c=s===void 0?-1:s,_=e.value,P=_===void 0?"":_,M=e.label,R=M===void 0?"":M,p=c>=0?this._store.getGroupById(c):null;return this._store.dispatch((0,a.highlightItem)(t,!1)),this.passedElement.triggerEvent(b.EVENTS.highlightItem,{id:t,value:P,label:R,groupValue:p&&p.value?p.value:null}),this},g.prototype.highlightAll=function(){var e=this;return this._store.items.forEach(function(t){return e.highlightItem(t)}),this},g.prototype.unhighlightAll=function(){var e=this;return this._store.items.forEach(function(t){return e.unhighlightItem(t)}),this},g.prototype.removeActiveItemsByValue=function(e){var t=this;return this._store.activeItems.filter(function(s){return s.value===e}).forEach(function(s){return t._removeItem(s)}),this},g.prototype.removeActiveItems=function(e){var t=this;return this._store.activeItems.filter(function(s){var c=s.id;return c!==e}).forEach(function(s){return t._removeItem(s)}),this},g.prototype.removeHighlightedItems=function(e){var t=this;return e===void 0&&(e=!1),this._store.highlightedActiveItems.forEach(function(s){t._removeItem(s),e&&t._triggerChange(s.value)}),this},g.prototype.showDropdown=function(e){var t=this;return this.dropdown.isActive?this:(requestAnimationFrame(function(){t.dropdown.show(),t.containerOuter.open(t.dropdown.distanceFromTopWindow),!e&&t._canSearch&&t.input.focus(),t.passedElement.triggerEvent(b.EVENTS.showDropdown,{})}),this)},g.prototype.hideDropdown=function(e){var t=this;return this.dropdown.isActive?(requestAnimationFrame(function(){t.dropdown.hide(),t.containerOuter.close(),!e&&t._canSearch&&(t.input.removeActiveDescendant(),t.input.blur()),t.passedElement.triggerEvent(b.EVENTS.hideDropdown,{})}),this):this},g.prototype.getValue=function(e){e===void 0&&(e=!1);var t=this._store.activeItems.reduce(function(s,c){var _=e?c.value:c;return s.push(_),s},[]);return this._isSelectOneElement?t[0]:t},g.prototype.setValue=function(e){var t=this;return this.initialised?(e.forEach(function(s){return t._setChoiceOrItem(s)}),this):this},g.prototype.setChoiceByValue=function(e){var t=this;if(!this.initialised||this._isTextElement)return this;var s=Array.isArray(e)?e:[e];return s.forEach(function(c){return t._findAndSelectChoiceByValue(c)}),this},g.prototype.setChoices=function(e,t,s,c){var _=this;if(e===void 0&&(e=[]),t===void 0&&(t="value"),s===void 0&&(s="label"),c===void 0&&(c=!1),!this.initialised)throw new ReferenceError("setChoices was called on a non-initialized instance of Choices");if(!this._isSelectElement)throw new TypeError("setChoices can't be used with INPUT based Choices");if(typeof t!="string"||!t)throw new TypeError("value parameter must be a name of 'value' field in passed objects");if(c&&this.clearChoices(),typeof e=="function"){var P=e(this);if(typeof Promise=="function"&&P instanceof Promise)return new Promise(function(M){return requestAnimationFrame(M)}).then(function(){return _._handleLoadingState(!0)}).then(function(){return P}).then(function(M){return _.setChoices(M,t,s,c)}).catch(function(M){_.config.silent||console.error(M)}).then(function(){return _._handleLoadingState(!1)}).then(function(){return _});if(!Array.isArray(P))throw new TypeError(".setChoices first argument function must return either array of choices or Promise, got: ".concat(typeof P));return this.setChoices(P,t,s,!1)}if(!Array.isArray(e))throw new TypeError(".setChoices must be called either with array of choices with a function resulting into Promise of array of choices");return this.containerOuter.removeLoadingState(),this._startLoading(),e.forEach(function(M){if(M.choices)_._addGroup({id:M.id?parseInt("".concat(M.id),10):null,group:M,valueKey:t,labelKey:s});else{var R=M;_._addChoice({value:R[t],label:R[s],isSelected:!!R.selected,isDisabled:!!R.disabled,placeholder:!!R.placeholder,customProperties:R.customProperties})}}),this._stopLoading(),this},g.prototype.clearChoices=function(){return this._store.dispatch((0,n.clearChoices)()),this},g.prototype.clearStore=function(){return this._store.dispatch((0,O.clearAll)()),this},g.prototype.clearInput=function(){var e=!this._isSelectOneElement;return this.input.clear(e),!this._isTextElement&&this._canSearch&&(this._isSearching=!1,this._store.dispatch((0,n.activateChoices)(!0))),this},g.prototype._render=function(){if(!this._store.isLoading()){this._currentState=this._store.state;var e=this._currentState.choices!==this._prevState.choices||this._currentState.groups!==this._prevState.groups||this._currentState.items!==this._prevState.items,t=this._isSelectElement,s=this._currentState.items!==this._prevState.items;e&&(t&&this._renderChoices(),s&&this._renderItems(),this._prevState=this._currentState)}},g.prototype._renderChoices=function(){var e=this,t=this._store,s=t.activeGroups,c=t.activeChoices,_=document.createDocumentFragment();if(this.choiceList.clear(),this.config.resetScrollPosition&&requestAnimationFrame(function(){return e.choiceList.scrollToTop()}),s.length>=1&&!this._isSearching){var P=c.filter(function(C){return C.placeholder===!0&&C.groupId===-1});P.length>=1&&(_=this._createChoicesFragment(P,_)),_=this._createGroupsFragment(s,c,_)}else c.length>=1&&(_=this._createChoicesFragment(c,_));if(_.childNodes&&_.childNodes.length>0){var M=this._store.activeItems,R=this._canAddItem(M,this.input.value);if(R.response)this.choiceList.append(_),this._highlightChoice();else{var p=this._getTemplate("notice",R.notice);this.choiceList.append(p)}}else{var u=void 0,p=void 0;this._isSearching?(p=typeof this.config.noResultsText=="function"?this.config.noResultsText():this.config.noResultsText,u=this._getTemplate("notice",p,"no-results")):(p=typeof this.config.noChoicesText=="function"?this.config.noChoicesText():this.config.noChoicesText,u=this._getTemplate("notice",p,"no-choices")),this.choiceList.append(u)}},g.prototype._renderItems=function(){var e=this._store.activeItems||[];this.itemList.clear();var t=this._createItemsFragment(e);t.childNodes&&this.itemList.append(t)},g.prototype._createGroupsFragment=function(e,t,s){var c=this;s===void 0&&(s=document.createDocumentFragment());var _=function(P){return t.filter(function(M){return c._isSelectOneElement?M.groupId===P.id:M.groupId===P.id&&(c.config.renderSelectedChoices==="always"||!M.selected)})};return this.config.shouldSort&&e.sort(this.config.sorter),e.forEach(function(P){var M=_(P);if(M.length>=1){var R=c._getTemplate("choiceGroup",P);s.appendChild(R),c._createChoicesFragment(M,s,!0)}}),s},g.prototype._createChoicesFragment=function(e,t,s){var c=this;t===void 0&&(t=document.createDocumentFragment()),s===void 0&&(s=!1);var _=this.config,P=_.renderSelectedChoices,M=_.searchResultLimit,R=_.renderChoiceLimit,p=this._isSearching?B.sortByScore:this.config.sorter,u=function(Z){var te=P==="auto"?c._isSelectOneElement||!Z.selected:!0;if(te){var ce=c._getTemplate("choice",Z,c.config.itemSelectText);t.appendChild(ce)}},C=e;P==="auto"&&!this._isSelectOneElement&&(C=e.filter(function(Z){return!Z.selected}));var K=C.reduce(function(Z,te){return te.placeholder?Z.placeholderChoices.push(te):Z.normalChoices.push(te),Z},{placeholderChoices:[],normalChoices:[]}),Y=K.placeholderChoices,W=K.normalChoices;(this.config.shouldSort||this._isSearching)&&W.sort(p);var X=C.length,$=this._isSelectOneElement?v(v([],Y,!0),W,!0):W;this._isSearching?X=M:R&&R>0&&!s&&(X=R);for(var Q=0;Q<X;Q+=1)$[Q]&&u($[Q]);return t},g.prototype._createItemsFragment=function(e,t){var s=this;t===void 0&&(t=document.createDocumentFragment());var c=this.config,_=c.shouldSortItems,P=c.sorter,M=c.removeItemButton;_&&!this._isSelectOneElement&&e.sort(P),this._isTextElement?this.passedElement.value=e.map(function(p){var u=p.value;return u}).join(this.config.delimiter):this.passedElement.options=e;var R=function(p){var u=s._getTemplate("item",p,M);t.appendChild(u)};return e.forEach(R),t},g.prototype._triggerChange=function(e){e!=null&&this.passedElement.triggerEvent(b.EVENTS.change,{value:e})},g.prototype._selectPlaceholderChoice=function(e){this._addItem({value:e.value,label:e.label,choiceId:e.id,groupId:e.groupId,placeholder:e.placeholder}),this._triggerChange(e.value)},g.prototype._handleButtonAction=function(e,t){if(!(!e||!t||!this.config.removeItems||!this.config.removeItemButton)){var s=t.parentNode&&t.parentNode.dataset.id,c=s&&e.find(function(_){return _.id===parseInt(s,10)});c&&(this._removeItem(c),this._triggerChange(c.value),this._isSelectOneElement&&this._store.placeholderChoice&&this._selectPlaceholderChoice(this._store.placeholderChoice))}},g.prototype._handleItemAction=function(e,t,s){var c=this;if(s===void 0&&(s=!1),!(!e||!t||!this.config.removeItems||this._isSelectOneElement)){var _=t.dataset.id;e.forEach(function(P){P.id===parseInt("".concat(_),10)&&!P.highlighted?c.highlightItem(P):!s&&P.highlighted&&c.unhighlightItem(P)}),this.input.focus()}},g.prototype._handleChoiceAction=function(e,t){if(!(!e||!t)){var s=t.dataset.id,c=s&&this._store.getChoiceById(s);if(c){var _=e[0]&&e[0].keyCode?e[0].keyCode:void 0,P=this.dropdown.isActive;if(c.keyCode=_,this.passedElement.triggerEvent(b.EVENTS.choice,{choice:c}),!c.selected&&!c.disabled){var M=this._canAddItem(e,c.value);M.response&&(this._addItem({value:c.value,label:c.label,choiceId:c.id,groupId:c.groupId,customProperties:c.customProperties,placeholder:c.placeholder,keyCode:c.keyCode}),this._triggerChange(c.value))}this.clearInput(),P&&this._isSelectOneElement&&(this.hideDropdown(!0),this.containerOuter.focus())}}},g.prototype._handleBackspace=function(e){if(!(!this.config.removeItems||!e)){var t=e[e.length-1],s=e.some(function(c){return c.highlighted});this.config.editItems&&!s&&t?(this.input.value=t.value,this.input.setWidth(),this._removeItem(t),this._triggerChange(t.value)):(s||this.highlightItem(t,!1),this.removeHighlightedItems(!0))}},g.prototype._startLoading=function(){this._store.dispatch((0,O.setIsLoading)(!0))},g.prototype._stopLoading=function(){this._store.dispatch((0,O.setIsLoading)(!1))},g.prototype._handleLoadingState=function(e){e===void 0&&(e=!0);var t=this.itemList.getChild(".".concat(this.config.classNames.placeholder));e?(this.disable(),this.containerOuter.addLoadingState(),this._isSelectOneElement?t?t.innerHTML=this.config.loadingText:(t=this._getTemplate("placeholder",this.config.loadingText),t&&this.itemList.append(t)):this.input.placeholder=this.config.loadingText):(this.enable(),this.containerOuter.removeLoadingState(),this._isSelectOneElement?t&&(t.innerHTML=this._placeholderValue||""):this.input.placeholder=this._placeholderValue||"")},g.prototype._handleSearch=function(e){if(this.input.isFocussed){var t=this._store.choices,s=this.config,c=s.searchFloor,_=s.searchChoices,P=t.some(function(R){return!R.active});if(e!==null&&typeof e<"u"&&e.length>=c){var M=_?this._searchChoices(e):0;this.passedElement.triggerEvent(b.EVENTS.search,{value:e,resultCount:M})}else P&&(this._isSearching=!1,this._store.dispatch((0,n.activateChoices)(!0)))}},g.prototype._canAddItem=function(e,t){var s=!0,c=typeof this.config.addItemText=="function"?this.config.addItemText(t):this.config.addItemText;if(!this._isSelectOneElement){var _=(0,B.existsInArray)(e,t);this.config.maxItemCount>0&&this.config.maxItemCount<=e.length&&(s=!1,c=typeof this.config.maxItemText=="function"?this.config.maxItemText(this.config.maxItemCount):this.config.maxItemText),!this.config.duplicateItemsAllowed&&_&&s&&(s=!1,c=typeof this.config.uniqueItemText=="function"?this.config.uniqueItemText(t):this.config.uniqueItemText),this._isTextElement&&this.config.addItems&&s&&typeof this.config.addItemFilter=="function"&&!this.config.addItemFilter(t)&&(s=!1,c=typeof this.config.customAddItemText=="function"?this.config.customAddItemText(t):this.config.customAddItemText)}return{response:s,notice:c}},g.prototype._searchChoices=function(e){var t=typeof e=="string"?e.trim():e,s=typeof this._currentValue=="string"?this._currentValue.trim():this._currentValue;if(t.length<1&&t==="".concat(s," "))return 0;var c=this._store.searchableChoices,_=t,P=Object.assign(this.config.fuseOptions,{keys:v([],this.config.searchFields,!0),includeMatches:!0}),M=new o.default(c,P),R=M.search(_);return this._currentValue=t,this._highlightPosition=0,this._isSearching=!0,this._store.dispatch((0,n.filterChoices)(R)),R.length},g.prototype._addEventListeners=function(){var e=document.documentElement;e.addEventListener("touchend",this._onTouchEnd,!0),this.containerOuter.element.addEventListener("keydown",this._onKeyDown,!0),this.containerOuter.element.addEventListener("mousedown",this._onMouseDown,!0),e.addEventListener("click",this._onClick,{passive:!0}),e.addEventListener("touchmove",this._onTouchMove,{passive:!0}),this.dropdown.element.addEventListener("mouseover",this._onMouseOver,{passive:!0}),this._isSelectOneElement&&(this.containerOuter.element.addEventListener("focus",this._onFocus,{passive:!0}),this.containerOuter.element.addEventListener("blur",this._onBlur,{passive:!0})),this.input.element.addEventListener("keyup",this._onKeyUp,{passive:!0}),this.input.element.addEventListener("focus",this._onFocus,{passive:!0}),this.input.element.addEventListener("blur",this._onBlur,{passive:!0}),this.input.element.form&&this.input.element.form.addEventListener("reset",this._onFormReset,{passive:!0}),this.input.addEventListeners()},g.prototype._removeEventListeners=function(){var e=document.documentElement;e.removeEventListener("touchend",this._onTouchEnd,!0),this.containerOuter.element.removeEventListener("keydown",this._onKeyDown,!0),this.containerOuter.element.removeEventListener("mousedown",this._onMouseDown,!0),e.removeEventListener("click",this._onClick),e.removeEventListener("touchmove",this._onTouchMove),this.dropdown.element.removeEventListener("mouseover",this._onMouseOver),this._isSelectOneElement&&(this.containerOuter.element.removeEventListener("focus",this._onFocus),this.containerOuter.element.removeEventListener("blur",this._onBlur)),this.input.element.removeEventListener("keyup",this._onKeyUp),this.input.element.removeEventListener("focus",this._onFocus),this.input.element.removeEventListener("blur",this._onBlur),this.input.element.form&&this.input.element.form.removeEventListener("reset",this._onFormReset),this.input.removeEventListeners()},g.prototype._onKeyDown=function(e){var t=e.keyCode,s=this._store.activeItems,c=this.input.isFocussed,_=this.dropdown.isActive,P=this.itemList.hasChildren(),M=String.fromCharCode(t),R=/[^\x00-\x1F]/.test(M),p=b.KEY_CODES.BACK_KEY,u=b.KEY_CODES.DELETE_KEY,C=b.KEY_CODES.ENTER_KEY,K=b.KEY_CODES.A_KEY,Y=b.KEY_CODES.ESC_KEY,W=b.KEY_CODES.UP_KEY,X=b.KEY_CODES.DOWN_KEY,$=b.KEY_CODES.PAGE_UP_KEY,Q=b.KEY_CODES.PAGE_DOWN_KEY;switch(!this._isTextElement&&!_&&R&&(this.showDropdown(),this.input.isFocussed||(this.input.value+=e.key.toLowerCase())),t){case K:return this._onSelectKey(e,P);case C:return this._onEnterKey(e,s,_);case Y:return this._onEscapeKey(_);case W:case $:case X:case Q:return this._onDirectionKey(e,_);case u:case p:return this._onDeleteKey(e,s,c);default:}},g.prototype._onKeyUp=function(e){var t=e.target,s=e.keyCode,c=this.input.value,_=this._store.activeItems,P=this._canAddItem(_,c),M=b.KEY_CODES.BACK_KEY,R=b.KEY_CODES.DELETE_KEY;if(this._isTextElement){var p=P.notice&&c;if(p){var u=this._getTemplate("notice",P.notice);this.dropdown.element.innerHTML=u.outerHTML,this.showDropdown(!0)}else this.hideDropdown(!0)}else{var C=s===M||s===R,K=C&&t&&!t.value,Y=!this._isTextElement&&this._isSearching,W=this._canSearch&&P.response;K&&Y?(this._isSearching=!1,this._store.dispatch((0,n.activateChoices)(!0))):W&&this._handleSearch(this.input.rawValue)}this._canSearch=this.config.searchEnabled},g.prototype._onSelectKey=function(e,t){var s=e.ctrlKey,c=e.metaKey,_=s||c;if(_&&t){this._canSearch=!1;var P=this.config.removeItems&&!this.input.value&&this.input.element===document.activeElement;P&&this.highlightAll()}},g.prototype._onEnterKey=function(e,t,s){var c=e.target,_=b.KEY_CODES.ENTER_KEY,P=c&&c.hasAttribute("data-button");if(this._isTextElement&&c&&c.value){var M=this.input.value,R=this._canAddItem(t,M);R.response&&(this.hideDropdown(!0),this._addItem({value:M}),this._triggerChange(M),this.clearInput())}if(P&&(this._handleButtonAction(t,c),e.preventDefault()),s){var p=this.dropdown.getChild(".".concat(this.config.classNames.highlightedState));p&&(t[0]&&(t[0].keyCode=_),this._handleChoiceAction(t,p)),e.preventDefault()}else this._isSelectOneElement&&(this.showDropdown(),e.preventDefault())},g.prototype._onEscapeKey=function(e){e&&(this.hideDropdown(!0),this.containerOuter.focus())},g.prototype._onDirectionKey=function(e,t){var s=e.keyCode,c=e.metaKey,_=b.KEY_CODES.DOWN_KEY,P=b.KEY_CODES.PAGE_UP_KEY,M=b.KEY_CODES.PAGE_DOWN_KEY;if(t||this._isSelectOneElement){this.showDropdown(),this._canSearch=!1;var R=s===_||s===M?1:-1,p=c||s===M||s===P,u="[data-choice-selectable]",C=void 0;if(p)R>0?C=this.dropdown.element.querySelector("".concat(u,":last-of-type")):C=this.dropdown.element.querySelector(u);else{var K=this.dropdown.element.querySelector(".".concat(this.config.classNames.highlightedState));K?C=(0,B.getAdjacentEl)(K,u,R):C=this.dropdown.element.querySelector(u)}C&&((0,B.isScrolledIntoView)(C,this.choiceList.element,R)||this.choiceList.scrollToChildElement(C,R),this._highlightChoice(C)),e.preventDefault()}},g.prototype._onDeleteKey=function(e,t,s){var c=e.target;!this._isSelectOneElement&&!c.value&&s&&(this._handleBackspace(t),e.preventDefault())},g.prototype._onTouchMove=function(){this._wasTap&&(this._wasTap=!1)},g.prototype._onTouchEnd=function(e){var t=(e||e.touches[0]).target,s=this._wasTap&&this.containerOuter.element.contains(t);if(s){var c=t===this.containerOuter.element||t===this.containerInner.element;c&&(this._isTextElement?this.input.focus():this._isSelectMultipleElement&&this.showDropdown()),e.stopPropagation()}this._wasTap=!0},g.prototype._onMouseDown=function(e){var t=e.target;if(t instanceof HTMLElement){if(y&&this.choiceList.element.contains(t)){var s=this.choiceList.element.firstElementChild,c=this._direction==="ltr"?e.offsetX>=s.offsetWidth:e.offsetX<s.offsetLeft;this._isScrollingOnIe=c}if(t!==this.input.element){var _=t.closest("[data-button],[data-item],[data-choice]");if(_ instanceof HTMLElement){var P=e.shiftKey,M=this._store.activeItems,R=_.dataset;"button"in R?this._handleButtonAction(M,_):"item"in R?this._handleItemAction(M,_,P):"choice"in R&&this._handleChoiceAction(M,_)}e.preventDefault()}}},g.prototype._onMouseOver=function(e){var t=e.target;t instanceof HTMLElement&&"choice"in t.dataset&&this._highlightChoice(t)},g.prototype._onClick=function(e){var t=e.target,s=this.containerOuter.element.contains(t);if(s)!this.dropdown.isActive&&!this.containerOuter.isDisabled?this._isTextElement?document.activeElement!==this.input.element&&this.input.focus():(this.showDropdown(),this.containerOuter.focus()):this._isSelectOneElement&&t!==this.input.element&&!this.dropdown.element.contains(t)&&this.hideDropdown();else{var c=this._store.highlightedActiveItems.length>0;c&&this.unhighlightAll(),this.containerOuter.removeFocusState(),this.hideDropdown(!0)}},g.prototype._onFocus=function(e){var t,s=this,c=e.target,_=c&&this.containerOuter.element.contains(c);if(_){var P=(t={},t[b.TEXT_TYPE]=function(){c===s.input.element&&s.containerOuter.addFocusState()},t[b.SELECT_ONE_TYPE]=function(){s.containerOuter.addFocusState(),c===s.input.element&&s.showDropdown(!0)},t[b.SELECT_MULTIPLE_TYPE]=function(){c===s.input.element&&(s.showDropdown(!0),s.containerOuter.addFocusState())},t);P[this.passedElement.element.type]()}},g.prototype._onBlur=function(e){var t,s=this,c=e.target,_=c&&this.containerOuter.element.contains(c);if(_&&!this._isScrollingOnIe){var P=this._store.activeItems,M=P.some(function(p){return p.highlighted}),R=(t={},t[b.TEXT_TYPE]=function(){c===s.input.element&&(s.containerOuter.removeFocusState(),M&&s.unhighlightAll(),s.hideDropdown(!0))},t[b.SELECT_ONE_TYPE]=function(){s.containerOuter.removeFocusState(),(c===s.input.element||c===s.containerOuter.element&&!s._canSearch)&&s.hideDropdown(!0)},t[b.SELECT_MULTIPLE_TYPE]=function(){c===s.input.element&&(s.containerOuter.removeFocusState(),s.hideDropdown(!0),M&&s.unhighlightAll())},t);R[this.passedElement.element.type]()}else this._isScrollingOnIe=!1,this.input.element.focus()},g.prototype._onFormReset=function(){this._store.dispatch((0,O.resetTo)(this._initialState))},g.prototype._highlightChoice=function(e){var t=this;e===void 0&&(e=null);var s=Array.from(this.dropdown.element.querySelectorAll("[data-choice-selectable]"));if(s.length){var c=e,_=Array.from(this.dropdown.element.querySelectorAll(".".concat(this.config.classNames.highlightedState)));_.forEach(function(P){P.classList.remove(t.config.classNames.highlightedState),P.setAttribute("aria-selected","false")}),c?this._highlightPosition=s.indexOf(c):(s.length>this._highlightPosition?c=s[this._highlightPosition]:c=s[s.length-1],c||(c=s[0])),c.classList.add(this.config.classNames.highlightedState),c.setAttribute("aria-selected","true"),this.passedElement.triggerEvent(b.EVENTS.highlightChoice,{el:c}),this.dropdown.isActive&&(this.input.setActiveDescendant(c.id),this.containerOuter.setActiveDescendant(c.id))}},g.prototype._addItem=function(e){var t=e.value,s=e.label,c=s===void 0?null:s,_=e.choiceId,P=_===void 0?-1:_,M=e.groupId,R=M===void 0?-1:M,p=e.customProperties,u=p===void 0?{}:p,C=e.placeholder,K=C===void 0?!1:C,Y=e.keyCode,W=Y===void 0?-1:Y,X=typeof t=="string"?t.trim():t,$=this._store.items,Q=c||X,Z=P||-1,te=R>=0?this._store.getGroupById(R):null,ce=$?$.length+1:1;this.config.prependValue&&(X=this.config.prependValue+X.toString()),this.config.appendValue&&(X+=this.config.appendValue.toString()),this._store.dispatch((0,a.addItem)({value:X,label:Q,id:ce,choiceId:Z,groupId:R,customProperties:u,placeholder:K,keyCode:W})),this._isSelectOneElement&&this.removeActiveItems(ce),this.passedElement.triggerEvent(b.EVENTS.addItem,{id:ce,value:X,label:Q,customProperties:u,groupValue:te&&te.value?te.value:null,keyCode:W})},g.prototype._removeItem=function(e){var t=e.id,s=e.value,c=e.label,_=e.customProperties,P=e.choiceId,M=e.groupId,R=M&&M>=0?this._store.getGroupById(M):null;!t||!P||(this._store.dispatch((0,a.removeItem)(t,P)),this.passedElement.triggerEvent(b.EVENTS.removeItem,{id:t,value:s,label:c,customProperties:_,groupValue:R&&R.value?R.value:null}))},g.prototype._addChoice=function(e){var t=e.value,s=e.label,c=s===void 0?null:s,_=e.isSelected,P=_===void 0?!1:_,M=e.isDisabled,R=M===void 0?!1:M,p=e.groupId,u=p===void 0?-1:p,C=e.customProperties,K=C===void 0?{}:C,Y=e.placeholder,W=Y===void 0?!1:Y,X=e.keyCode,$=X===void 0?-1:X;if(!(typeof t>"u"||t===null)){var Q=this._store.choices,Z=c||t,te=Q?Q.length+1:1,ce="".concat(this._baseId,"-").concat(this._idNames.itemChoice,"-").concat(te);this._store.dispatch((0,n.addChoice)({id:te,groupId:u,elementId:ce,value:t,label:Z,disabled:R,customProperties:K,placeholder:W,keyCode:$})),P&&this._addItem({value:t,label:Z,choiceId:te,customProperties:K,placeholder:W,keyCode:$})}},g.prototype._addGroup=function(e){var t=this,s=e.group,c=e.id,_=e.valueKey,P=_===void 0?"value":_,M=e.labelKey,R=M===void 0?"label":M,p=(0,B.isType)("Object",s)?s.choices:Array.from(s.getElementsByTagName("OPTION")),u=c||Math.floor(new Date().valueOf()*Math.random()),C=s.disabled?s.disabled:!1;if(p){this._store.dispatch((0,l.addGroup)({value:s.label,id:u,active:!0,disabled:C}));var K=function(Y){var W=Y.disabled||Y.parentNode&&Y.parentNode.disabled;t._addChoice({value:Y[P],label:(0,B.isType)("Object",Y)?Y[R]:Y.innerHTML,isSelected:Y.selected,isDisabled:W,groupId:u,customProperties:Y.customProperties,placeholder:Y.placeholder})};p.forEach(K)}else this._store.dispatch((0,l.addGroup)({value:s.label,id:s.id,active:!1,disabled:s.disabled}))},g.prototype._getTemplate=function(e){for(var t,s=[],c=1;c<arguments.length;c++)s[c-1]=arguments[c];return(t=this._templates[e]).call.apply(t,v([this,this.config],s,!1))},g.prototype._createTemplates=function(){var e=this.config.callbackOnCreateTemplates,t={};e&&typeof e=="function"&&(t=e.call(this,B.strToEl)),this._templates=(0,d.default)(re.default,t)},g.prototype._createElements=function(){this.containerOuter=new L.Container({element:this._getTemplate("containerOuter",this._direction,this._isSelectElement,this._isSelectOneElement,this.config.searchEnabled,this.passedElement.element.type,this.config.labelId),classNames:this.config.classNames,type:this.passedElement.element.type,position:this.config.position}),this.containerInner=new L.Container({element:this._getTemplate("containerInner"),classNames:this.config.classNames,type:this.passedElement.element.type,position:this.config.position}),this.input=new L.Input({element:this._getTemplate("input",this._placeholderValue),classNames:this.config.classNames,type:this.passedElement.element.type,preventPaste:!this.config.paste}),this.choiceList=new L.List({element:this._getTemplate("choiceList",this._isSelectOneElement)}),this.itemList=new L.List({element:this._getTemplate("itemList",this._isSelectOneElement)}),this.dropdown=new L.Dropdown({element:this._getTemplate("dropdown"),classNames:this.config.classNames,type:this.passedElement.element.type})},g.prototype._createStructure=function(){this.passedElement.conceal(),this.containerInner.wrap(this.passedElement.element),this.containerOuter.wrap(this.containerInner.element),this._isSelectOneElement?this.input.placeholder=this.config.searchPlaceholderValue||"":this._placeholderValue&&(this.input.placeholder=this._placeholderValue,this.input.setWidth()),this.containerOuter.element.appendChild(this.containerInner.element),this.containerOuter.element.appendChild(this.dropdown.element),this.containerInner.element.appendChild(this.itemList.element),this._isTextElement||this.dropdown.element.appendChild(this.choiceList.element),this._isSelectOneElement?this.config.searchEnabled&&this.dropdown.element.insertBefore(this.input.element,this.dropdown.element.firstChild):this.containerInner.element.appendChild(this.input.element),this._isSelectElement&&(this._highlightPosition=0,this._isSearching=!1,this._startLoading(),this._presetGroups.length?this._addPredefinedGroups(this._presetGroups):this._addPredefinedChoices(this._presetChoices),this._stopLoading()),this._isTextElement&&this._addPredefinedItems(this._presetItems)},g.prototype._addPredefinedGroups=function(e){var t=this,s=this.passedElement.placeholderOption;s&&s.parentNode&&s.parentNode.tagName==="SELECT"&&this._addChoice({value:s.value,label:s.innerHTML,isSelected:s.selected,isDisabled:s.disabled,placeholder:!0}),e.forEach(function(c){return t._addGroup({group:c,id:c.id||null})})},g.prototype._addPredefinedChoices=function(e){var t=this;this.config.shouldSort&&e.sort(this.config.sorter);var s=e.some(function(_){return _.selected}),c=e.findIndex(function(_){return _.disabled===void 0||!_.disabled});e.forEach(function(_,P){var M=_.value,R=M===void 0?"":M,p=_.label,u=_.customProperties,C=_.placeholder;if(t._isSelectElement)if(_.choices)t._addGroup({group:_,id:_.id||null});else{var K=t._isSelectOneElement&&!s&&P===c,Y=K?!0:_.selected,W=_.disabled;t._addChoice({value:R,label:p,isSelected:!!Y,isDisabled:!!W,placeholder:!!C,customProperties:u})}else t._addChoice({value:R,label:p,isSelected:!!_.selected,isDisabled:!!_.disabled,placeholder:!!_.placeholder,customProperties:u})})},g.prototype._addPredefinedItems=function(e){var t=this;e.forEach(function(s){typeof s=="object"&&s.value&&t._addItem({value:s.value,label:s.label,choiceId:s.id,customProperties:s.customProperties,placeholder:s.placeholder}),typeof s=="string"&&t._addItem({value:s})})},g.prototype._setChoiceOrItem=function(e){var t=this,s=(0,B.getType)(e).toLowerCase(),c={object:function(){e.value&&(t._isTextElement?t._addItem({value:e.value,label:e.label,choiceId:e.id,customProperties:e.customProperties,placeholder:e.placeholder}):t._addChoice({value:e.value,label:e.label,isSelected:!0,isDisabled:!1,customProperties:e.customProperties,placeholder:e.placeholder}))},string:function(){t._isTextElement?t._addItem({value:e}):t._addChoice({value:e,label:e,isSelected:!0,isDisabled:!1})}};c[s]()},g.prototype._findAndSelectChoiceByValue=function(e){var t=this,s=this._store.choices,c=s.find(function(_){return t.config.valueComparer(_.value,e)});c&&!c.selected&&this._addItem({value:c.value,label:c.label,choiceId:c.id,groupId:c.groupId,customProperties:c.customProperties,placeholder:c.placeholder,keyCode:c.keyCode})},g.prototype._generatePlaceholderValue=function(){if(this._isSelectElement&&this.passedElement.placeholderOption){var e=this.passedElement.placeholderOption;return e?e.text:null}var t=this.config,s=t.placeholder,c=t.placeholderValue,_=this.passedElement.element.dataset;if(s){if(c)return c;if(_.placeholder)return _.placeholder}return null},g}();i.default=j},613:function(N,i,E){Object.defineProperty(i,"__esModule",{value:!0});var v=E(799),h=E(883),d=function(){function o(n){var l=n.element,a=n.type,O=n.classNames,L=n.position;this.element=l,this.classNames=O,this.type=a,this.position=L,this.isOpen=!1,this.isFlipped=!1,this.isFocussed=!1,this.isDisabled=!1,this.isLoading=!1,this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this)}return o.prototype.addEventListeners=function(){this.element.addEventListener("focus",this._onFocus),this.element.addEventListener("blur",this._onBlur)},o.prototype.removeEventListeners=function(){this.element.removeEventListener("focus",this._onFocus),this.element.removeEventListener("blur",this._onBlur)},o.prototype.shouldFlip=function(n){if(typeof n!="number")return!1;var l=!1;return this.position==="auto"?l=!window.matchMedia("(min-height: ".concat(n+1,"px)")).matches:this.position==="top"&&(l=!0),l},o.prototype.setActiveDescendant=function(n){this.element.setAttribute("aria-activedescendant",n)},o.prototype.removeActiveDescendant=function(){this.element.removeAttribute("aria-activedescendant")},o.prototype.open=function(n){this.element.classList.add(this.classNames.openState),this.element.setAttribute("aria-expanded","true"),this.isOpen=!0,this.shouldFlip(n)&&(this.element.classList.add(this.classNames.flippedState),this.isFlipped=!0)},o.prototype.close=function(){this.element.classList.remove(this.classNames.openState),this.element.setAttribute("aria-expanded","false"),this.removeActiveDescendant(),this.isOpen=!1,this.isFlipped&&(this.element.classList.remove(this.classNames.flippedState),this.isFlipped=!1)},o.prototype.focus=function(){this.isFocussed||this.element.focus()},o.prototype.addFocusState=function(){this.element.classList.add(this.classNames.focusState)},o.prototype.removeFocusState=function(){this.element.classList.remove(this.classNames.focusState)},o.prototype.enable=function(){this.element.classList.remove(this.classNames.disabledState),this.element.removeAttribute("aria-disabled"),this.type===h.SELECT_ONE_TYPE&&this.element.setAttribute("tabindex","0"),this.isDisabled=!1},o.prototype.disable=function(){this.element.classList.add(this.classNames.disabledState),this.element.setAttribute("aria-disabled","true"),this.type===h.SELECT_ONE_TYPE&&this.element.setAttribute("tabindex","-1"),this.isDisabled=!0},o.prototype.wrap=function(n){(0,v.wrap)(n,this.element)},o.prototype.unwrap=function(n){this.element.parentNode&&(this.element.parentNode.insertBefore(n,this.element),this.element.parentNode.removeChild(this.element))},o.prototype.addLoadingState=function(){this.element.classList.add(this.classNames.loadingState),this.element.setAttribute("aria-busy","true"),this.isLoading=!0},o.prototype.removeLoadingState=function(){this.element.classList.remove(this.classNames.loadingState),this.element.removeAttribute("aria-busy"),this.isLoading=!1},o.prototype._onFocus=function(){this.isFocussed=!0},o.prototype._onBlur=function(){this.isFocussed=!1},o}();i.default=d},217:function(N,i){Object.defineProperty(i,"__esModule",{value:!0});var E=function(){function v(h){var d=h.element,o=h.type,n=h.classNames;this.element=d,this.classNames=n,this.type=o,this.isActive=!1}return Object.defineProperty(v.prototype,"distanceFromTopWindow",{get:function(){return this.element.getBoundingClientRect().bottom},enumerable:!1,configurable:!0}),v.prototype.getChild=function(h){return this.element.querySelector(h)},v.prototype.show=function(){return this.element.classList.add(this.classNames.activeState),this.element.setAttribute("aria-expanded","true"),this.isActive=!0,this},v.prototype.hide=function(){return this.element.classList.remove(this.classNames.activeState),this.element.setAttribute("aria-expanded","false"),this.isActive=!1,this},v}();i.default=E},520:function(N,i,E){var v=this&&this.__importDefault||function(O){return O&&O.__esModule?O:{default:O}};Object.defineProperty(i,"__esModule",{value:!0}),i.WrappedSelect=i.WrappedInput=i.List=i.Input=i.Container=i.Dropdown=void 0;var h=v(E(217));i.Dropdown=h.default;var d=v(E(613));i.Container=d.default;var o=v(E(11));i.Input=o.default;var n=v(E(624));i.List=n.default;var l=v(E(541));i.WrappedInput=l.default;var a=v(E(982));i.WrappedSelect=a.default},11:function(N,i,E){Object.defineProperty(i,"__esModule",{value:!0});var v=E(799),h=E(883),d=function(){function o(n){var l=n.element,a=n.type,O=n.classNames,L=n.preventPaste;this.element=l,this.type=a,this.classNames=O,this.preventPaste=L,this.isFocussed=this.element.isEqualNode(document.activeElement),this.isDisabled=l.disabled,this._onPaste=this._onPaste.bind(this),this._onInput=this._onInput.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this)}return Object.defineProperty(o.prototype,"placeholder",{set:function(n){this.element.placeholder=n},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"value",{get:function(){return(0,v.sanitise)(this.element.value)},set:function(n){this.element.value=n},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"rawValue",{get:function(){return this.element.value},enumerable:!1,configurable:!0}),o.prototype.addEventListeners=function(){this.element.addEventListener("paste",this._onPaste),this.element.addEventListener("input",this._onInput,{passive:!0}),this.element.addEventListener("focus",this._onFocus,{passive:!0}),this.element.addEventListener("blur",this._onBlur,{passive:!0})},o.prototype.removeEventListeners=function(){this.element.removeEventListener("input",this._onInput),this.element.removeEventListener("paste",this._onPaste),this.element.removeEventListener("focus",this._onFocus),this.element.removeEventListener("blur",this._onBlur)},o.prototype.enable=function(){this.element.removeAttribute("disabled"),this.isDisabled=!1},o.prototype.disable=function(){this.element.setAttribute("disabled",""),this.isDisabled=!0},o.prototype.focus=function(){this.isFocussed||this.element.focus()},o.prototype.blur=function(){this.isFocussed&&this.element.blur()},o.prototype.clear=function(n){return n===void 0&&(n=!0),this.element.value&&(this.element.value=""),n&&this.setWidth(),this},o.prototype.setWidth=function(){var n=this.element,l=n.style,a=n.value,O=n.placeholder;l.minWidth="".concat(O.length+1,"ch"),l.width="".concat(a.length+1,"ch")},o.prototype.setActiveDescendant=function(n){this.element.setAttribute("aria-activedescendant",n)},o.prototype.removeActiveDescendant=function(){this.element.removeAttribute("aria-activedescendant")},o.prototype._onInput=function(){this.type!==h.SELECT_ONE_TYPE&&this.setWidth()},o.prototype._onPaste=function(n){this.preventPaste&&n.preventDefault()},o.prototype._onFocus=function(){this.isFocussed=!0},o.prototype._onBlur=function(){this.isFocussed=!1},o}();i.default=d},624:function(N,i,E){Object.defineProperty(i,"__esModule",{value:!0});var v=E(883),h=function(){function d(o){var n=o.element;this.element=n,this.scrollPos=this.element.scrollTop,this.height=this.element.offsetHeight}return d.prototype.clear=function(){this.element.innerHTML=""},d.prototype.append=function(o){this.element.appendChild(o)},d.prototype.getChild=function(o){return this.element.querySelector(o)},d.prototype.hasChildren=function(){return this.element.hasChildNodes()},d.prototype.scrollToTop=function(){this.element.scrollTop=0},d.prototype.scrollToChildElement=function(o,n){var l=this;if(o){var a=this.element.offsetHeight,O=this.element.scrollTop+a,L=o.offsetHeight,b=o.offsetTop+L,D=n>0?this.element.scrollTop+b-O:o.offsetTop;requestAnimationFrame(function(){l._animateScroll(D,n)})}},d.prototype._scrollDown=function(o,n,l){var a=(l-o)/n,O=a>1?a:1;this.element.scrollTop=o+O},d.prototype._scrollUp=function(o,n,l){var a=(o-l)/n,O=a>1?a:1;this.element.scrollTop=o-O},d.prototype._animateScroll=function(o,n){var l=this,a=v.SCROLLING_SPEED,O=this.element.scrollTop,L=!1;n>0?(this._scrollDown(O,a,o),O<o&&(L=!0)):(this._scrollUp(O,a,o),O>o&&(L=!0)),L&&requestAnimationFrame(function(){l._animateScroll(o,n)})},d}();i.default=h},730:function(N,i,E){Object.defineProperty(i,"__esModule",{value:!0});var v=E(799),h=function(){function d(o){var n=o.element,l=o.classNames;if(this.element=n,this.classNames=l,!(n instanceof HTMLInputElement)&&!(n instanceof HTMLSelectElement))throw new TypeError("Invalid element passed");this.isDisabled=!1}return Object.defineProperty(d.prototype,"isActive",{get:function(){return this.element.dataset.choice==="active"},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"dir",{get:function(){return this.element.dir},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"value",{get:function(){return this.element.value},set:function(o){this.element.value=o},enumerable:!1,configurable:!0}),d.prototype.conceal=function(){this.element.classList.add(this.classNames.input),this.element.hidden=!0,this.element.tabIndex=-1;var o=this.element.getAttribute("style");o&&this.element.setAttribute("data-choice-orig-style",o),this.element.setAttribute("data-choice","active")},d.prototype.reveal=function(){this.element.classList.remove(this.classNames.input),this.element.hidden=!1,this.element.removeAttribute("tabindex");var o=this.element.getAttribute("data-choice-orig-style");o?(this.element.removeAttribute("data-choice-orig-style"),this.element.setAttribute("style",o)):this.element.removeAttribute("style"),this.element.removeAttribute("data-choice"),this.element.value=this.element.value},d.prototype.enable=function(){this.element.removeAttribute("disabled"),this.element.disabled=!1,this.isDisabled=!1},d.prototype.disable=function(){this.element.setAttribute("disabled",""),this.element.disabled=!0,this.isDisabled=!0},d.prototype.triggerEvent=function(o,n){(0,v.dispatchEvent)(this.element,o,n)},d}();i.default=h},541:function(N,i,E){var v=this&&this.__extends||function(){var n=function(l,a){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,L){O.__proto__=L}||function(O,L){for(var b in L)Object.prototype.hasOwnProperty.call(L,b)&&(O[b]=L[b])},n(l,a)};return function(l,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");n(l,a);function O(){this.constructor=l}l.prototype=a===null?Object.create(a):(O.prototype=a.prototype,new O)}}(),h=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(i,"__esModule",{value:!0});var d=h(E(730)),o=function(n){v(l,n);function l(a){var O=a.element,L=a.classNames,b=a.delimiter,D=n.call(this,{element:O,classNames:L})||this;return D.delimiter=b,D}return Object.defineProperty(l.prototype,"value",{get:function(){return this.element.value},set:function(a){this.element.setAttribute("value",a),this.element.value=a},enumerable:!1,configurable:!0}),l}(d.default);i.default=o},982:function(N,i,E){var v=this&&this.__extends||function(){var n=function(l,a){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,L){O.__proto__=L}||function(O,L){for(var b in L)Object.prototype.hasOwnProperty.call(L,b)&&(O[b]=L[b])},n(l,a)};return function(l,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");n(l,a);function O(){this.constructor=l}l.prototype=a===null?Object.create(a):(O.prototype=a.prototype,new O)}}(),h=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(i,"__esModule",{value:!0});var d=h(E(730)),o=function(n){v(l,n);function l(a){var O=a.element,L=a.classNames,b=a.template,D=n.call(this,{element:O,classNames:L})||this;return D.template=b,D}return Object.defineProperty(l.prototype,"placeholderOption",{get:function(){return this.element.querySelector('option[value=""]')||this.element.querySelector("option[placeholder]")},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"optionGroups",{get:function(){return Array.from(this.element.getElementsByTagName("OPTGROUP"))},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"options",{get:function(){return Array.from(this.element.options)},set:function(a){var O=this,L=document.createDocumentFragment(),b=function(D){var B=O.template(D);L.appendChild(B)};a.forEach(function(D){return b(D)}),this.appendDocFragment(L)},enumerable:!1,configurable:!0}),l.prototype.appendDocFragment=function(a){this.element.innerHTML="",this.element.appendChild(a)},l}(d.default);i.default=o},883:function(N,i){Object.defineProperty(i,"__esModule",{value:!0}),i.SCROLLING_SPEED=i.SELECT_MULTIPLE_TYPE=i.SELECT_ONE_TYPE=i.TEXT_TYPE=i.KEY_CODES=i.ACTION_TYPES=i.EVENTS=void 0,i.EVENTS={showDropdown:"showDropdown",hideDropdown:"hideDropdown",change:"change",choice:"choice",search:"search",addItem:"addItem",removeItem:"removeItem",highlightItem:"highlightItem",highlightChoice:"highlightChoice",unhighlightItem:"unhighlightItem"},i.ACTION_TYPES={ADD_CHOICE:"ADD_CHOICE",FILTER_CHOICES:"FILTER_CHOICES",ACTIVATE_CHOICES:"ACTIVATE_CHOICES",CLEAR_CHOICES:"CLEAR_CHOICES",ADD_GROUP:"ADD_GROUP",ADD_ITEM:"ADD_ITEM",REMOVE_ITEM:"REMOVE_ITEM",HIGHLIGHT_ITEM:"HIGHLIGHT_ITEM",CLEAR_ALL:"CLEAR_ALL",RESET_TO:"RESET_TO",SET_IS_LOADING:"SET_IS_LOADING"},i.KEY_CODES={BACK_KEY:46,DELETE_KEY:8,ENTER_KEY:13,A_KEY:65,ESC_KEY:27,UP_KEY:38,DOWN_KEY:40,PAGE_UP_KEY:33,PAGE_DOWN_KEY:34},i.TEXT_TYPE="text",i.SELECT_ONE_TYPE="select-one",i.SELECT_MULTIPLE_TYPE="select-multiple",i.SCROLLING_SPEED=4},789:function(N,i,E){Object.defineProperty(i,"__esModule",{value:!0}),i.DEFAULT_CONFIG=i.DEFAULT_CLASSNAMES=void 0;var v=E(799);i.DEFAULT_CLASSNAMES={containerOuter:"choices",containerInner:"choices__inner",input:"choices__input",inputCloned:"choices__input--cloned",list:"choices__list",listItems:"choices__list--multiple",listSingle:"choices__list--single",listDropdown:"choices__list--dropdown",item:"choices__item",itemSelectable:"choices__item--selectable",itemDisabled:"choices__item--disabled",itemChoice:"choices__item--choice",placeholder:"choices__placeholder",group:"choices__group",groupHeading:"choices__heading",button:"choices__button",activeState:"is-active",focusState:"is-focused",openState:"is-open",disabledState:"is-disabled",highlightedState:"is-highlighted",selectedState:"is-selected",flippedState:"is-flipped",loadingState:"is-loading",noResults:"has-no-results",noChoices:"has-no-choices"},i.DEFAULT_CONFIG={items:[],choices:[],silent:!1,renderChoiceLimit:-1,maxItemCount:-1,addItems:!0,addItemFilter:null,removeItems:!0,removeItemButton:!1,editItems:!1,allowHTML:!0,duplicateItemsAllowed:!0,delimiter:",",paste:!0,searchEnabled:!0,searchChoices:!0,searchFloor:1,searchResultLimit:4,searchFields:["label","value"],position:"auto",resetScrollPosition:!0,shouldSort:!0,shouldSortItems:!1,sorter:v.sortByAlpha,placeholder:!0,placeholderValue:null,searchPlaceholderValue:null,prependValue:null,appendValue:null,renderSelectedChoices:"auto",loadingText:"Loading...",noResultsText:"No results found",noChoicesText:"No choices to choose from",itemSelectText:"Press to select",uniqueItemText:"Only unique values can be added",customAddItemText:"Only values matching specific conditions can be added",addItemText:function(h){return'Press Enter to add <b>"'.concat((0,v.sanitise)(h),'"</b>')},maxItemText:function(h){return"Only ".concat(h," values can be added")},valueComparer:function(h,d){return h===d},fuseOptions:{includeScore:!0},labelId:"",callbackOnInit:null,callbackOnCreateTemplates:null,classNames:i.DEFAULT_CLASSNAMES}},18:function(N,i){Object.defineProperty(i,"__esModule",{value:!0})},978:function(N,i){Object.defineProperty(i,"__esModule",{value:!0})},948:function(N,i){Object.defineProperty(i,"__esModule",{value:!0})},359:function(N,i){Object.defineProperty(i,"__esModule",{value:!0})},285:function(N,i){Object.defineProperty(i,"__esModule",{value:!0})},533:function(N,i){Object.defineProperty(i,"__esModule",{value:!0})},187:function(N,i,E){var v=this&&this.__createBinding||(Object.create?function(d,o,n,l){l===void 0&&(l=n);var a=Object.getOwnPropertyDescriptor(o,n);(!a||("get"in a?!o.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return o[n]}}),Object.defineProperty(d,l,a)}:function(d,o,n,l){l===void 0&&(l=n),d[l]=o[n]}),h=this&&this.__exportStar||function(d,o){for(var n in d)n!=="default"&&!Object.prototype.hasOwnProperty.call(o,n)&&v(o,d,n)};Object.defineProperty(i,"__esModule",{value:!0}),h(E(18),i),h(E(978),i),h(E(948),i),h(E(359),i),h(E(285),i),h(E(533),i),h(E(287),i),h(E(132),i),h(E(837),i),h(E(598),i),h(E(369),i),h(E(37),i),h(E(47),i),h(E(923),i),h(E(876),i)},287:function(N,i){Object.defineProperty(i,"__esModule",{value:!0})},132:function(N,i){Object.defineProperty(i,"__esModule",{value:!0})},837:function(N,i){Object.defineProperty(i,"__esModule",{value:!0})},598:function(N,i){Object.defineProperty(i,"__esModule",{value:!0})},37:function(N,i){Object.defineProperty(i,"__esModule",{value:!0})},369:function(N,i){Object.defineProperty(i,"__esModule",{value:!0})},47:function(N,i){Object.defineProperty(i,"__esModule",{value:!0})},923:function(N,i){Object.defineProperty(i,"__esModule",{value:!0})},876:function(N,i){Object.defineProperty(i,"__esModule",{value:!0})},799:function(N,i){Object.defineProperty(i,"__esModule",{value:!0}),i.parseCustomProperties=i.diff=i.cloneObject=i.existsInArray=i.dispatchEvent=i.sortByScore=i.sortByAlpha=i.strToEl=i.sanitise=i.isScrolledIntoView=i.getAdjacentEl=i.wrap=i.isType=i.getType=i.generateId=i.generateChars=i.getRandomNumber=void 0;var E=function(y,T){return Math.floor(Math.random()*(T-y)+y)};i.getRandomNumber=E;var v=function(y){return Array.from({length:y},function(){return(0,i.getRandomNumber)(0,36).toString(36)}).join("")};i.generateChars=v;var h=function(y,T){var j=y.id||y.name&&"".concat(y.name,"-").concat((0,i.generateChars)(2))||(0,i.generateChars)(4);return j=j.replace(/(:|\.|\[|\]|,)/g,""),j="".concat(T,"-").concat(j),j};i.generateId=h;var d=function(y){return Object.prototype.toString.call(y).slice(8,-1)};i.getType=d;var o=function(y,T){return T!=null&&(0,i.getType)(T)===y};i.isType=o;var n=function(y,T){return T===void 0&&(T=document.createElement("div")),y.parentNode&&(y.nextSibling?y.parentNode.insertBefore(T,y.nextSibling):y.parentNode.appendChild(T)),T.appendChild(y)};i.wrap=n;var l=function(y,T,j){j===void 0&&(j=1);for(var g="".concat(j>0?"next":"previous","ElementSibling"),e=y[g];e;){if(e.matches(T))return e;e=e[g]}return e};i.getAdjacentEl=l;var a=function(y,T,j){if(j===void 0&&(j=1),!y)return!1;var g;return j>0?g=T.scrollTop+T.offsetHeight>=y.offsetTop+y.offsetHeight:g=y.offsetTop>=T.scrollTop,g};i.isScrolledIntoView=a;var O=function(y){return typeof y!="string"?y:y.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")};i.sanitise=O,i.strToEl=function(){var y=document.createElement("div");return function(T){var j=T.trim();y.innerHTML=j;for(var g=y.children[0];y.firstChild;)y.removeChild(y.firstChild);return g}}();var L=function(y,T){var j=y.value,g=y.label,e=g===void 0?j:g,t=T.value,s=T.label,c=s===void 0?t:s;return e.localeCompare(c,[],{sensitivity:"base",ignorePunctuation:!0,numeric:!0})};i.sortByAlpha=L;var b=function(y,T){var j=y.score,g=j===void 0?0:j,e=T.score,t=e===void 0?0:e;return g-t};i.sortByScore=b;var D=function(y,T,j){j===void 0&&(j=null);var g=new CustomEvent(T,{detail:j,bubbles:!0,cancelable:!0});return y.dispatchEvent(g)};i.dispatchEvent=D;var B=function(y,T,j){return j===void 0&&(j="value"),y.some(function(g){return typeof T=="string"?g[j]===T.trim():g[j]===T})};i.existsInArray=B;var J=function(y){return JSON.parse(JSON.stringify(y))};i.cloneObject=J;var q=function(y,T){var j=Object.keys(y).sort(),g=Object.keys(T).sort();return j.filter(function(e){return g.indexOf(e)<0})};i.diff=q;var re=function(y){if(typeof y<"u")try{return JSON.parse(y)}catch{return y}return{}};i.parseCustomProperties=re},273:function(N,i){var E=this&&this.__spreadArray||function(h,d,o){if(o||arguments.length===2)for(var n=0,l=d.length,a;n<l;n++)(a||!(n in d))&&(a||(a=Array.prototype.slice.call(d,0,n)),a[n]=d[n]);return h.concat(a||Array.prototype.slice.call(d))};Object.defineProperty(i,"__esModule",{value:!0}),i.defaultState=void 0,i.defaultState=[];function v(h,d){switch(h===void 0&&(h=i.defaultState),d===void 0&&(d={}),d.type){case"ADD_CHOICE":{var o=d,n={id:o.id,elementId:o.elementId,groupId:o.groupId,value:o.value,label:o.label||o.value,disabled:o.disabled||!1,selected:!1,active:!0,score:9999,customProperties:o.customProperties,placeholder:o.placeholder||!1};return E(E([],h,!0),[n],!1)}case"ADD_ITEM":{var l=d;return l.choiceId>-1?h.map(function(b){var D=b;return D.id===parseInt("".concat(l.choiceId),10)&&(D.selected=!0),D}):h}case"REMOVE_ITEM":{var a=d;return a.choiceId&&a.choiceId>-1?h.map(function(b){var D=b;return D.id===parseInt("".concat(a.choiceId),10)&&(D.selected=!1),D}):h}case"FILTER_CHOICES":{var O=d;return h.map(function(b){var D=b;return D.active=O.results.some(function(B){var J=B.item,q=B.score;return J.id===D.id?(D.score=q,!0):!1}),D})}case"ACTIVATE_CHOICES":{var L=d;return h.map(function(b){var D=b;return D.active=L.active,D})}case"CLEAR_CHOICES":return i.defaultState;default:return h}}i.default=v},871:function(N,i){var E=this&&this.__spreadArray||function(h,d,o){if(o||arguments.length===2)for(var n=0,l=d.length,a;n<l;n++)(a||!(n in d))&&(a||(a=Array.prototype.slice.call(d,0,n)),a[n]=d[n]);return h.concat(a||Array.prototype.slice.call(d))};Object.defineProperty(i,"__esModule",{value:!0}),i.defaultState=void 0,i.defaultState=[];function v(h,d){switch(h===void 0&&(h=i.defaultState),d===void 0&&(d={}),d.type){case"ADD_GROUP":{var o=d;return E(E([],h,!0),[{id:o.id,value:o.value,active:o.active,disabled:o.disabled}],!1)}case"CLEAR_CHOICES":return[];default:return h}}i.default=v},655:function(N,i,E){var v=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(i,"__esModule",{value:!0}),i.defaultState=void 0;var h=E(791),d=v(E(52)),o=v(E(871)),n=v(E(273)),l=v(E(502)),a=E(799);i.defaultState={groups:[],items:[],choices:[],loading:!1};var O=(0,h.combineReducers)({items:d.default,groups:o.default,choices:n.default,loading:l.default}),L=function(b,D){var B=b;if(D.type==="CLEAR_ALL")B=i.defaultState;else if(D.type==="RESET_TO")return(0,a.cloneObject)(D.state);return O(B,D)};i.default=L},52:function(N,i){var E=this&&this.__spreadArray||function(h,d,o){if(o||arguments.length===2)for(var n=0,l=d.length,a;n<l;n++)(a||!(n in d))&&(a||(a=Array.prototype.slice.call(d,0,n)),a[n]=d[n]);return h.concat(a||Array.prototype.slice.call(d))};Object.defineProperty(i,"__esModule",{value:!0}),i.defaultState=void 0,i.defaultState=[];function v(h,d){switch(h===void 0&&(h=i.defaultState),d===void 0&&(d={}),d.type){case"ADD_ITEM":{var o=d,n=E(E([],h,!0),[{id:o.id,choiceId:o.choiceId,groupId:o.groupId,value:o.value,label:o.label,active:!0,highlighted:!1,customProperties:o.customProperties,placeholder:o.placeholder||!1,keyCode:null}],!1);return n.map(function(a){var O=a;return O.highlighted=!1,O})}case"REMOVE_ITEM":return h.map(function(a){var O=a;return O.id===d.id&&(O.active=!1),O});case"HIGHLIGHT_ITEM":{var l=d;return h.map(function(a){var O=a;return O.id===l.id&&(O.highlighted=l.highlighted),O})}default:return h}}i.default=v},502:function(N,i){Object.defineProperty(i,"__esModule",{value:!0}),i.defaultState=void 0,i.defaultState=!1;var E=function(v,h){switch(v===void 0&&(v=i.defaultState),h===void 0&&(h={}),h.type){case"SET_IS_LOADING":return h.isLoading;default:return v}};i.default=E},744:function(N,i,E){var v=this&&this.__spreadArray||function(l,a,O){if(O||arguments.length===2)for(var L=0,b=a.length,D;L<b;L++)(D||!(L in a))&&(D||(D=Array.prototype.slice.call(a,0,L)),D[L]=a[L]);return l.concat(D||Array.prototype.slice.call(a))},h=this&&this.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(i,"__esModule",{value:!0});var d=E(791),o=h(E(655)),n=function(){function l(){this._store=(0,d.createStore)(o.default,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())}return l.prototype.subscribe=function(a){this._store.subscribe(a)},l.prototype.dispatch=function(a){this._store.dispatch(a)},Object.defineProperty(l.prototype,"state",{get:function(){return this._store.getState()},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"items",{get:function(){return this.state.items},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"activeItems",{get:function(){return this.items.filter(function(a){return a.active===!0})},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"highlightedActiveItems",{get:function(){return this.items.filter(function(a){return a.active&&a.highlighted})},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"choices",{get:function(){return this.state.choices},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"activeChoices",{get:function(){return this.choices.filter(function(a){return a.active===!0})},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"selectableChoices",{get:function(){return this.choices.filter(function(a){return a.disabled!==!0})},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"searchableChoices",{get:function(){return this.selectableChoices.filter(function(a){return a.placeholder!==!0})},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"placeholderChoice",{get:function(){return v([],this.choices,!0).reverse().find(function(a){return a.placeholder===!0})},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"groups",{get:function(){return this.state.groups},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"activeGroups",{get:function(){var a=this,O=a.groups,L=a.choices;return O.filter(function(b){var D=b.active===!0&&b.disabled===!1,B=L.some(function(J){return J.active===!0&&J.disabled===!1});return D&&B},[])},enumerable:!1,configurable:!0}),l.prototype.isLoading=function(){return this.state.loading},l.prototype.getChoiceById=function(a){return this.activeChoices.find(function(O){return O.id===parseInt(a,10)})},l.prototype.getGroupById=function(a){return this.groups.find(function(O){return O.id===a})},l}();i.default=n},686:function(N,i){Object.defineProperty(i,"__esModule",{value:!0});var E={containerOuter:function(v,h,d,o,n,l,a){var O=v.classNames.containerOuter,L=Object.assign(document.createElement("div"),{className:O});return L.dataset.type=l,h&&(L.dir=h),o&&(L.tabIndex=0),d&&(L.setAttribute("role",n?"combobox":"listbox"),n&&L.setAttribute("aria-autocomplete","list")),L.setAttribute("aria-haspopup","true"),L.setAttribute("aria-expanded","false"),a&&L.setAttribute("aria-labelledby",a),L},containerInner:function(v){var h=v.classNames.containerInner;return Object.assign(document.createElement("div"),{className:h})},itemList:function(v,h){var d=v.classNames,o=d.list,n=d.listSingle,l=d.listItems;return Object.assign(document.createElement("div"),{className:"".concat(o," ").concat(h?n:l)})},placeholder:function(v,h){var d,o=v.allowHTML,n=v.classNames.placeholder;return Object.assign(document.createElement("div"),(d={className:n},d[o?"innerHTML":"innerText"]=h,d))},item:function(v,h,d){var o,n,l=v.allowHTML,a=v.classNames,O=a.item,L=a.button,b=a.highlightedState,D=a.itemSelectable,B=a.placeholder,J=h.id,q=h.value,re=h.label,y=h.customProperties,T=h.active,j=h.disabled,g=h.highlighted,e=h.placeholder,t=Object.assign(document.createElement("div"),(o={className:O},o[l?"innerHTML":"innerText"]=re,o));if(Object.assign(t.dataset,{item:"",id:J,value:q,customProperties:y}),T&&t.setAttribute("aria-selected","true"),j&&t.setAttribute("aria-disabled","true"),e&&t.classList.add(B),t.classList.add(g?b:D),d){j&&t.classList.remove(D),t.dataset.deletable="";var s="Remove item",c=Object.assign(document.createElement("button"),(n={type:"button",className:L},n[l?"innerHTML":"innerText"]=s,n));c.setAttribute("aria-label","".concat(s,": '").concat(q,"'")),c.dataset.button="",t.appendChild(c)}return t},choiceList:function(v,h){var d=v.classNames.list,o=Object.assign(document.createElement("div"),{className:d});return h||o.setAttribute("aria-multiselectable","true"),o.setAttribute("role","listbox"),o},choiceGroup:function(v,h){var d,o=v.allowHTML,n=v.classNames,l=n.group,a=n.groupHeading,O=n.itemDisabled,L=h.id,b=h.value,D=h.disabled,B=Object.assign(document.createElement("div"),{className:"".concat(l," ").concat(D?O:"")});return B.setAttribute("role","group"),Object.assign(B.dataset,{group:"",id:L,value:b}),D&&B.setAttribute("aria-disabled","true"),B.appendChild(Object.assign(document.createElement("div"),(d={className:a},d[o?"innerHTML":"innerText"]=b,d))),B},choice:function(v,h,d){var o,n=v.allowHTML,l=v.classNames,a=l.item,O=l.itemChoice,L=l.itemSelectable,b=l.selectedState,D=l.itemDisabled,B=l.placeholder,J=h.id,q=h.value,re=h.label,y=h.groupId,T=h.elementId,j=h.disabled,g=h.selected,e=h.placeholder,t=Object.assign(document.createElement("div"),(o={id:T},o[n?"innerHTML":"innerText"]=re,o.className="".concat(a," ").concat(O),o));return g&&t.classList.add(b),e&&t.classList.add(B),t.setAttribute("role",y&&y>0?"treeitem":"option"),Object.assign(t.dataset,{choice:"",id:J,value:q,selectText:d}),j?(t.classList.add(D),t.dataset.choiceDisabled="",t.setAttribute("aria-disabled","true")):(t.classList.add(L),t.dataset.choiceSelectable=""),t},input:function(v,h){var d=v.classNames,o=d.input,n=d.inputCloned,l=Object.assign(document.createElement("input"),{type:"search",name:"search_terms",className:"".concat(o," ").concat(n),autocomplete:"off",autocapitalize:"off",spellcheck:!1});return l.setAttribute("role","textbox"),l.setAttribute("aria-autocomplete","list"),l.setAttribute("aria-label",h),l},dropdown:function(v){var h=v.classNames,d=h.list,o=h.listDropdown,n=document.createElement("div");return n.classList.add(d,o),n.setAttribute("aria-expanded","false"),n},notice:function(v,h,d){var o,n=v.allowHTML,l=v.classNames,a=l.item,O=l.itemChoice,L=l.noResults,b=l.noChoices;d===void 0&&(d="");var D=[a,O];return d==="no-choices"?D.push(b):d==="no-results"&&D.push(L),Object.assign(document.createElement("div"),(o={},o[n?"innerHTML":"innerText"]=h,o.className=D.join(" "),o))},option:function(v){var h=v.label,d=v.value,o=v.customProperties,n=v.active,l=v.disabled,a=new Option(h,d,!1,n);return o&&(a.dataset.customProperties="".concat(o)),a.disabled=!!l,a}};i.default=E},996:function(N){var i=function(T){return E(T)&&!v(T)};function E(y){return!!y&&typeof y=="object"}function v(y){var T=Object.prototype.toString.call(y);return T==="[object RegExp]"||T==="[object Date]"||o(y)}var h=typeof Symbol=="function"&&Symbol.for,d=h?Symbol.for("react.element"):60103;function o(y){return y.$$typeof===d}function n(y){return Array.isArray(y)?[]:{}}function l(y,T){return T.clone!==!1&&T.isMergeableObject(y)?q(n(y),y,T):y}function a(y,T,j){return y.concat(T).map(function(g){return l(g,j)})}function O(y,T){if(!T.customMerge)return q;var j=T.customMerge(y);return typeof j=="function"?j:q}function L(y){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(y).filter(function(T){return y.propertyIsEnumerable(T)}):[]}function b(y){return Object.keys(y).concat(L(y))}function D(y,T){try{return T in y}catch{return!1}}function B(y,T){return D(y,T)&&!(Object.hasOwnProperty.call(y,T)&&Object.propertyIsEnumerable.call(y,T))}function J(y,T,j){var g={};return j.isMergeableObject(y)&&b(y).forEach(function(e){g[e]=l(y[e],j)}),b(T).forEach(function(e){B(y,e)||(D(y,e)&&j.isMergeableObject(T[e])?g[e]=O(e,j)(y[e],T[e],j):g[e]=l(T[e],j))}),g}function q(y,T,j){j=j||{},j.arrayMerge=j.arrayMerge||a,j.isMergeableObject=j.isMergeableObject||i,j.cloneUnlessOtherwiseSpecified=l;var g=Array.isArray(T),e=Array.isArray(y),t=g===e;return t?g?j.arrayMerge(y,T,j):J(y,T,j):l(T,j)}q.all=function(T,j){if(!Array.isArray(T))throw new Error("first argument should be an array");return T.reduce(function(g,e){return q(g,e,j)},{})};var re=q;N.exports=re},221:function(N,i,E){E.r(i),E.d(i,{default:function(){return Se}});function v(f){return Array.isArray?Array.isArray(f):B(f)==="[object Array]"}let h=1/0;function d(f){if(typeof f=="string")return f;let r=f+"";return r=="0"&&1/f==-h?"-0":r}function o(f){return f==null?"":d(f)}function n(f){return typeof f=="string"}function l(f){return typeof f=="number"}function a(f){return f===!0||f===!1||L(f)&&B(f)=="[object Boolean]"}function O(f){return typeof f=="object"}function L(f){return O(f)&&f!==null}function b(f){return f!=null}function D(f){return!f.trim().length}function B(f){return f==null?f===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(f)}let J="Extended search is not available",q="Incorrect 'index' type",re=f=>`Invalid value for key ${f}`,y=f=>`Pattern length exceeds max of ${f}.`,T=f=>`Missing ${f} property in key`,j=f=>`Property 'weight' in key '${f}' must be a positive integer`,g=Object.prototype.hasOwnProperty;class e{constructor(r){this._keys=[],this._keyMap={};let m=0;r.forEach(S=>{let I=t(S);m+=I.weight,this._keys.push(I),this._keyMap[I.id]=I,m+=I.weight}),this._keys.forEach(S=>{S.weight/=m})}get(r){return this._keyMap[r]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function t(f){let r=null,m=null,S=null,I=1,w=null;if(n(f)||v(f))S=f,r=s(f),m=c(f);else{if(!g.call(f,"name"))throw new Error(T("name"));let A=f.name;if(S=A,g.call(f,"weight")&&(I=f.weight,I<=0))throw new Error(j(A));r=s(A),m=c(A),w=f.getFn}return{path:r,id:m,weight:I,src:S,getFn:w}}function s(f){return v(f)?f:f.split(".")}function c(f){return v(f)?f.join("."):f}function _(f,r){let m=[],S=!1,I=(w,A,x)=>{if(b(w))if(!A[x])m.push(w);else{let k=A[x],F=w[k];if(!b(F))return;if(x===A.length-1&&(n(F)||l(F)||a(F)))m.push(o(F));else if(v(F)){S=!0;for(let H=0,U=F.length;H<U;H+=1)I(F[H],A,x+1)}else A.length&&I(F,A,x+1)}};return I(f,n(r)?r.split("."):r,0),S?m:m[0]}var u={...{isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(f,r)=>f.score===r.score?f.idx<r.idx?-1:1:f.score<r.score?-1:1},...{includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},...{location:0,threshold:.6,distance:100},...{useExtendedSearch:!1,getFn:_,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1}};let C=/[^ ]+/g;function K(f=1,r=3){let m=new Map,S=Math.pow(10,r);return{get(I){let w=I.match(C).length;if(m.has(w))return m.get(w);let A=1/Math.pow(w,.5*f),x=parseFloat(Math.round(A*S)/S);return m.set(w,x),x},clear(){m.clear()}}}class Y{constructor({getFn:r=u.getFn,fieldNormWeight:m=u.fieldNormWeight}={}){this.norm=K(m,3),this.getFn=r,this.isCreated=!1,this.setIndexRecords()}setSources(r=[]){this.docs=r}setIndexRecords(r=[]){this.records=r}setKeys(r=[]){this.keys=r,this._keysMap={},r.forEach((m,S)=>{this._keysMap[m.id]=S})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,n(this.docs[0])?this.docs.forEach((r,m)=>{this._addString(r,m)}):this.docs.forEach((r,m)=>{this._addObject(r,m)}),this.norm.clear())}add(r){let m=this.size();n(r)?this._addString(r,m):this._addObject(r,m)}removeAt(r){this.records.splice(r,1);for(let m=r,S=this.size();m<S;m+=1)this.records[m].i-=1}getValueForItemAtKeyId(r,m){return r[this._keysMap[m]]}size(){return this.records.length}_addString(r,m){if(!b(r)||D(r))return;let S={v:r,i:m,n:this.norm.get(r)};this.records.push(S)}_addObject(r,m){let S={i:m,$:{}};this.keys.forEach((I,w)=>{let A=I.getFn?I.getFn(r):this.getFn(r,I.path);if(b(A)){if(v(A)){let x=[],k=[{nestedArrIndex:-1,value:A}];for(;k.length;){let{nestedArrIndex:F,value:H}=k.pop();if(b(H))if(n(H)&&!D(H)){let U={v:H,i:F,n:this.norm.get(H)};x.push(U)}else v(H)&&H.forEach((U,z)=>{k.push({nestedArrIndex:z,value:U})})}S.$[w]=x}else if(n(A)&&!D(A)){let x={v:A,n:this.norm.get(A)};S.$[w]=x}}}),this.records.push(S)}toJSON(){return{keys:this.keys,records:this.records}}}function W(f,r,{getFn:m=u.getFn,fieldNormWeight:S=u.fieldNormWeight}={}){let I=new Y({getFn:m,fieldNormWeight:S});return I.setKeys(f.map(t)),I.setSources(r),I.create(),I}function X(f,{getFn:r=u.getFn,fieldNormWeight:m=u.fieldNormWeight}={}){let{keys:S,records:I}=f,w=new Y({getFn:r,fieldNormWeight:m});return w.setKeys(S),w.setIndexRecords(I),w}function $(f,{errors:r=0,currentLocation:m=0,expectedLocation:S=0,distance:I=u.distance,ignoreLocation:w=u.ignoreLocation}={}){let A=r/f.length;if(w)return A;let x=Math.abs(S-m);return I?A+x/I:x?1:A}function Q(f=[],r=u.minMatchCharLength){let m=[],S=-1,I=-1,w=0;for(let A=f.length;w<A;w+=1){let x=f[w];x&&S===-1?S=w:!x&&S!==-1&&(I=w-1,I-S+1>=r&&m.push([S,I]),S=-1)}return f[w-1]&&w-S>=r&&m.push([S,w-1]),m}let Z=32;function te(f,r,m,{location:S=u.location,distance:I=u.distance,threshold:w=u.threshold,findAllMatches:A=u.findAllMatches,minMatchCharLength:x=u.minMatchCharLength,includeMatches:k=u.includeMatches,ignoreLocation:F=u.ignoreLocation}={}){if(r.length>Z)throw new Error(y(Z));let H=r.length,U=f.length,z=Math.max(0,Math.min(S,U)),ee=w,se=z,he=x>1||k,ye=he?Array(U):[],_e;for(;(_e=f.indexOf(r,se))>-1;){let de=$(r,{currentLocation:_e,expectedLocation:z,distance:I,ignoreLocation:F});if(ee=Math.min(de,ee),se=_e+H,he){let ge=0;for(;ge<H;)ye[_e+ge]=1,ge+=1}}se=-1;let Ie=[],Ee=1,Te=H+U,ct=1<<H-1;for(let de=0;de<H;de+=1){let ge=0,be=Te;for(;ge<be;)$(r,{errors:de,currentLocation:z+be,expectedLocation:z,distance:I,ignoreLocation:F})<=ee?ge=be:Te=be,be=Math.floor((Te-ge)/2+ge);Te=be;let Ue=Math.max(1,z-be+1),ke=A?U:Math.min(z+be,U)+H,Oe=Array(ke+2);Oe[ke+1]=(1<<de)-1;for(let fe=ke;fe>=Ue;fe-=1){let Le=fe-1,Ge=m[f.charAt(Le)];if(he&&(ye[Le]=+!!Ge),Oe[fe]=(Oe[fe+1]<<1|1)&Ge,de&&(Oe[fe]|=(Ie[fe+1]|Ie[fe])<<1|1|Ie[fe+1]),Oe[fe]&ct&&(Ee=$(r,{errors:de,currentLocation:Le,expectedLocation:z,distance:I,ignoreLocation:F}),Ee<=ee)){if(ee=Ee,se=Le,se<=z)break;Ue=Math.max(1,2*z-se)}}if($(r,{errors:de+1,currentLocation:z,expectedLocation:z,distance:I,ignoreLocation:F})>ee)break;Ie=Oe}let Re={isMatch:se>=0,score:Math.max(.001,Ee)};if(he){let de=Q(ye,x);de.length?k&&(Re.indices=de):Re.isMatch=!1}return Re}function ce(f){let r={};for(let m=0,S=f.length;m<S;m+=1){let I=f.charAt(m);r[I]=(r[I]||0)|1<<S-m-1}return r}class ue{constructor(r,{location:m=u.location,threshold:S=u.threshold,distance:I=u.distance,includeMatches:w=u.includeMatches,findAllMatches:A=u.findAllMatches,minMatchCharLength:x=u.minMatchCharLength,isCaseSensitive:k=u.isCaseSensitive,ignoreLocation:F=u.ignoreLocation}={}){if(this.options={location:m,threshold:S,distance:I,includeMatches:w,findAllMatches:A,minMatchCharLength:x,isCaseSensitive:k,ignoreLocation:F},this.pattern=k?r:r.toLowerCase(),this.chunks=[],!this.pattern.length)return;let H=(z,ee)=>{this.chunks.push({pattern:z,alphabet:ce(z),startIndex:ee})},U=this.pattern.length;if(U>Z){let z=0,ee=U%Z,se=U-ee;for(;z<se;)H(this.pattern.substr(z,Z),z),z+=Z;if(ee){let he=U-Z;H(this.pattern.substr(he),he)}}else H(this.pattern,0)}searchIn(r){let{isCaseSensitive:m,includeMatches:S}=this.options;if(m||(r=r.toLowerCase()),this.pattern===r){let se={isMatch:!0,score:0};return S&&(se.indices=[[0,r.length-1]]),se}let{location:I,distance:w,threshold:A,findAllMatches:x,minMatchCharLength:k,ignoreLocation:F}=this.options,H=[],U=0,z=!1;this.chunks.forEach(({pattern:se,alphabet:he,startIndex:ye})=>{let{isMatch:_e,score:Ie,indices:Ee}=te(r,se,he,{location:I+ye,distance:w,threshold:A,findAllMatches:x,minMatchCharLength:k,includeMatches:S,ignoreLocation:F});_e&&(z=!0),U+=Ie,_e&&Ee&&(H=[...H,...Ee])});let ee={isMatch:z,score:z?U/this.chunks.length:1};return z&&S&&(ee.indices=H),ee}}class le{constructor(r){this.pattern=r}static isMultiMatch(r){return ve(r,this.multiRegex)}static isSingleMatch(r){return ve(r,this.singleRegex)}search(){}}function ve(f,r){let m=f.match(r);return m?m[1]:null}class ie extends le{constructor(r){super(r)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(r){let m=r===this.pattern;return{isMatch:m,score:m?0:1,indices:[0,this.pattern.length-1]}}}class pe extends le{constructor(r){super(r)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(r){let S=r.indexOf(this.pattern)===-1;return{isMatch:S,score:S?0:1,indices:[0,r.length-1]}}}class me extends le{constructor(r){super(r)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(r){let m=r.startsWith(this.pattern);return{isMatch:m,score:m?0:1,indices:[0,this.pattern.length-1]}}}class ae extends le{constructor(r){super(r)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(r){let m=!r.startsWith(this.pattern);return{isMatch:m,score:m?0:1,indices:[0,r.length-1]}}}class we extends le{constructor(r){super(r)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(r){let m=r.endsWith(this.pattern);return{isMatch:m,score:m?0:1,indices:[r.length-this.pattern.length,r.length-1]}}}class Pe extends le{constructor(r){super(r)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(r){let m=!r.endsWith(this.pattern);return{isMatch:m,score:m?0:1,indices:[0,r.length-1]}}}class Fe extends le{constructor(r,{location:m=u.location,threshold:S=u.threshold,distance:I=u.distance,includeMatches:w=u.includeMatches,findAllMatches:A=u.findAllMatches,minMatchCharLength:x=u.minMatchCharLength,isCaseSensitive:k=u.isCaseSensitive,ignoreLocation:F=u.ignoreLocation}={}){super(r),this._bitapSearch=new ue(r,{location:m,threshold:S,distance:I,includeMatches:w,findAllMatches:A,minMatchCharLength:x,isCaseSensitive:k,ignoreLocation:F})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(r){return this._bitapSearch.searchIn(r)}}class He extends le{constructor(r){super(r)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(r){let m=0,S,I=[],w=this.pattern.length;for(;(S=r.indexOf(this.pattern,m))>-1;)m=S+w,I.push([S,m-1]);let A=!!I.length;return{isMatch:A,score:A?0:1,indices:I}}}let Me=[ie,He,me,ae,Pe,we,pe,Fe],Ye=Me.length,Ze=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Qe="|";function Je(f,r={}){return f.split(Qe).map(m=>{let S=m.trim().split(Ze).filter(w=>w&&!!w.trim()),I=[];for(let w=0,A=S.length;w<A;w+=1){let x=S[w],k=!1,F=-1;for(;!k&&++F<Ye;){let H=Me[F],U=H.isMultiMatch(x);U&&(I.push(new H(U,r)),k=!0)}if(!k)for(F=-1;++F<Ye;){let H=Me[F],U=H.isSingleMatch(x);if(U){I.push(new H(U,r));break}}}return I})}let qe=new Set([Fe.type,He.type]);class et{constructor(r,{isCaseSensitive:m=u.isCaseSensitive,includeMatches:S=u.includeMatches,minMatchCharLength:I=u.minMatchCharLength,ignoreLocation:w=u.ignoreLocation,findAllMatches:A=u.findAllMatches,location:x=u.location,threshold:k=u.threshold,distance:F=u.distance}={}){this.query=null,this.options={isCaseSensitive:m,includeMatches:S,minMatchCharLength:I,findAllMatches:A,ignoreLocation:w,location:x,threshold:k,distance:F},this.pattern=m?r:r.toLowerCase(),this.query=Je(this.pattern,this.options)}static condition(r,m){return m.useExtendedSearch}searchIn(r){let m=this.query;if(!m)return{isMatch:!1,score:1};let{includeMatches:S,isCaseSensitive:I}=this.options;r=I?r:r.toLowerCase();let w=0,A=[],x=0;for(let k=0,F=m.length;k<F;k+=1){let H=m[k];A.length=0,w=0;for(let U=0,z=H.length;U<z;U+=1){let ee=H[U],{isMatch:se,indices:he,score:ye}=ee.search(r);if(se){if(w+=1,x+=ye,S){let _e=ee.constructor.type;qe.has(_e)?A=[...A,...he]:A.push(he)}}else{x=0,w=0,A.length=0;break}}if(w){let U={isMatch:!0,score:x/w};return S&&(U.indices=A),U}}return{isMatch:!1,score:1}}}let De=[];function tt(...f){De.push(...f)}function Ne(f,r){for(let m=0,S=De.length;m<S;m+=1){let I=De[m];if(I.condition(f,r))return new I(f,r)}return new ue(f,r)}let Ce={AND:"$and",OR:"$or"},je={PATH:"$path",PATTERN:"$val"},xe=f=>!!(f[Ce.AND]||f[Ce.OR]),it=f=>!!f[je.PATH],nt=f=>!v(f)&&O(f)&&!xe(f),Be=f=>({[Ce.AND]:Object.keys(f).map(r=>({[r]:f[r]}))});function Ve(f,r,{auto:m=!0}={}){let S=I=>{let w=Object.keys(I),A=it(I);if(!A&&w.length>1&&!xe(I))return S(Be(I));if(nt(I)){let k=A?I[je.PATH]:w[0],F=A?I[je.PATTERN]:I[k];if(!n(F))throw new Error(re(k));let H={keyId:c(k),pattern:F};return m&&(H.searcher=Ne(F,r)),H}let x={children:[],operator:w[0]};return w.forEach(k=>{let F=I[k];v(F)&&F.forEach(H=>{x.children.push(S(H))})}),x};return xe(f)||(f=Be(f)),S(f)}function st(f,{ignoreFieldNorm:r=u.ignoreFieldNorm}){f.forEach(m=>{let S=1;m.matches.forEach(({key:I,norm:w,score:A})=>{let x=I?I.weight:null;S*=Math.pow(A===0&&x?Number.EPSILON:A,(x||1)*(r?1:w))}),m.score=S})}function rt(f,r){let m=f.matches;r.matches=[],b(m)&&m.forEach(S=>{if(!b(S.indices)||!S.indices.length)return;let{indices:I,value:w}=S,A={indices:I,value:w};S.key&&(A.key=S.key.src),S.idx>-1&&(A.refIndex=S.idx),r.matches.push(A)})}function ot(f,r){r.score=f.score}function at(f,r,{includeMatches:m=u.includeMatches,includeScore:S=u.includeScore}={}){let I=[];return m&&I.push(rt),S&&I.push(ot),f.map(w=>{let{idx:A}=w,x={item:r[A],refIndex:A};return I.length&&I.forEach(k=>{k(w,x)}),x})}class Se{constructor(r,m={},S){this.options={...u,...m},this.options.useExtendedSearch,this._keyStore=new e(this.options.keys),this.setCollection(r,S)}setCollection(r,m){if(this._docs=r,m&&!(m instanceof Y))throw new Error(q);this._myIndex=m||W(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(r){b(r)&&(this._docs.push(r),this._myIndex.add(r))}remove(r=()=>!1){let m=[];for(let S=0,I=this._docs.length;S<I;S+=1){let w=this._docs[S];r(w,S)&&(this.removeAt(S),S-=1,I-=1,m.push(w))}return m}removeAt(r){this._docs.splice(r,1),this._myIndex.removeAt(r)}getIndex(){return this._myIndex}search(r,{limit:m=-1}={}){let{includeMatches:S,includeScore:I,shouldSort:w,sortFn:A,ignoreFieldNorm:x}=this.options,k=n(r)?n(this._docs[0])?this._searchStringList(r):this._searchObjectList(r):this._searchLogical(r);return st(k,{ignoreFieldNorm:x}),w&&k.sort(A),l(m)&&m>-1&&(k=k.slice(0,m)),at(k,this._docs,{includeMatches:S,includeScore:I})}_searchStringList(r){let m=Ne(r,this.options),{records:S}=this._myIndex,I=[];return S.forEach(({v:w,i:A,n:x})=>{if(!b(w))return;let{isMatch:k,score:F,indices:H}=m.searchIn(w);k&&I.push({item:w,idx:A,matches:[{score:F,value:w,norm:x,indices:H}]})}),I}_searchLogical(r){let m=Ve(r,this.options),S=(x,k,F)=>{if(!x.children){let{keyId:U,searcher:z}=x,ee=this._findMatches({key:this._keyStore.get(U),value:this._myIndex.getValueForItemAtKeyId(k,U),searcher:z});return ee&&ee.length?[{idx:F,item:k,matches:ee}]:[]}let H=[];for(let U=0,z=x.children.length;U<z;U+=1){let ee=x.children[U],se=S(ee,k,F);if(se.length)H.push(...se);else if(x.operator===Ce.AND)return[]}return H},I=this._myIndex.records,w={},A=[];return I.forEach(({$:x,i:k})=>{if(b(x)){let F=S(m,x,k);F.length&&(w[k]||(w[k]={idx:k,item:x,matches:[]},A.push(w[k])),F.forEach(({matches:H})=>{w[k].matches.push(...H)}))}}),A}_searchObjectList(r){let m=Ne(r,this.options),{keys:S,records:I}=this._myIndex,w=[];return I.forEach(({$:A,i:x})=>{if(!b(A))return;let k=[];S.forEach((F,H)=>{k.push(...this._findMatches({key:F,value:A[H],searcher:m}))}),k.length&&w.push({idx:x,item:A,matches:k})}),w}_findMatches({key:r,value:m,searcher:S}){if(!b(m))return[];let I=[];if(v(m))m.forEach(({v:w,i:A,n:x})=>{if(!b(w))return;let{isMatch:k,score:F,indices:H}=S.searchIn(w);k&&I.push({score:F,key:r,value:w,idx:A,norm:x,indices:H})});else{let{v:w,n:A}=m,{isMatch:x,score:k,indices:F}=S.searchIn(w);x&&I.push({score:k,key:r,value:w,norm:A,indices:F})}return I}}Se.version="6.6.2",Se.createIndex=W,Se.parseIndex=X,Se.config=u,Se.parseQuery=Ve,tt(et)},791:function(N,i,E){E.r(i),E.d(i,{__DO_NOT_USE__ActionTypes:function(){return b},applyMiddleware:function(){return M},bindActionCreators:function(){return _},combineReducers:function(){return s},compose:function(){return P},createStore:function(){return T},legacy_createStore:function(){return j}});function v(p){"@babel/helpers - typeof";return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},v(p)}function h(p,u){if(v(p)!=="object"||p===null)return p;var C=p[Symbol.toPrimitive];if(C!==void 0){var K=C.call(p,u||"default");if(v(K)!=="object")return K;throw new TypeError("@@toPrimitive must return a primitive value.")}return(u==="string"?String:Number)(p)}function d(p){var u=h(p,"string");return v(u)==="symbol"?u:String(u)}function o(p,u,C){return u=d(u),u in p?Object.defineProperty(p,u,{value:C,enumerable:!0,configurable:!0,writable:!0}):p[u]=C,p}function n(p,u){var C=Object.keys(p);if(Object.getOwnPropertySymbols){var K=Object.getOwnPropertySymbols(p);u&&(K=K.filter(function(Y){return Object.getOwnPropertyDescriptor(p,Y).enumerable})),C.push.apply(C,K)}return C}function l(p){for(var u=1;u<arguments.length;u++){var C=arguments[u]!=null?arguments[u]:{};u%2?n(Object(C),!0).forEach(function(K){o(p,K,C[K])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(C)):n(Object(C)).forEach(function(K){Object.defineProperty(p,K,Object.getOwnPropertyDescriptor(C,K))})}return p}function a(p){return"Minified Redux error #"+p+"; visit https://redux.js.org/Errors?code="+p+" for the full message or use the non-minified dev environment for full errors. "}var O=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),L=function(){return Math.random().toString(36).substring(7).split("").join(".")},b={INIT:"@@redux/INIT"+L(),REPLACE:"@@redux/REPLACE"+L(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+L()}};function D(p){if(typeof p!="object"||p===null)return!1;for(var u=p;Object.getPrototypeOf(u)!==null;)u=Object.getPrototypeOf(u);return Object.getPrototypeOf(p)===u}function B(p){if(p===void 0)return"undefined";if(p===null)return"null";var u=typeof p;switch(u){case"boolean":case"string":case"number":case"symbol":case"function":return u}if(Array.isArray(p))return"array";if(re(p))return"date";if(q(p))return"error";var C=J(p);switch(C){case"Symbol":case"Promise":case"WeakMap":case"WeakSet":case"Map":case"Set":return C}return u.slice(8,-1).toLowerCase().replace(/\s/g,"")}function J(p){return typeof p.constructor=="function"?p.constructor.name:null}function q(p){return p instanceof Error||typeof p.message=="string"&&p.constructor&&typeof p.constructor.stackTraceLimit=="number"}function re(p){return p instanceof Date?!0:typeof p.toDateString=="function"&&typeof p.getDate=="function"&&typeof p.setDate=="function"}function y(p){var u=typeof p;return u}function T(p,u,C){var K;if(typeof u=="function"&&typeof C=="function"||typeof C=="function"&&typeof arguments[3]=="function")throw new Error(a(0));if(typeof u=="function"&&typeof C>"u"&&(C=u,u=void 0),typeof C<"u"){if(typeof C!="function")throw new Error(a(1));return C(T)(p,u)}if(typeof p!="function")throw new Error(a(2));var Y=p,W=u,X=[],$=X,Q=!1;function Z(){$===X&&($=X.slice())}function te(){if(Q)throw new Error(a(3));return W}function ce(ie){if(typeof ie!="function")throw new Error(a(4));if(Q)throw new Error(a(5));var pe=!0;return Z(),$.push(ie),function(){if(pe){if(Q)throw new Error(a(6));pe=!1,Z();var ae=$.indexOf(ie);$.splice(ae,1),X=null}}}function ue(ie){if(!D(ie))throw new Error(a(7));if(typeof ie.type>"u")throw new Error(a(8));if(Q)throw new Error(a(9));try{Q=!0,W=Y(W,ie)}finally{Q=!1}for(var pe=X=$,me=0;me<pe.length;me++){var ae=pe[me];ae()}return ie}function le(ie){if(typeof ie!="function")throw new Error(a(10));Y=ie,ue({type:b.REPLACE})}function ve(){var ie,pe=ce;return ie={subscribe:function(ae){if(typeof ae!="object"||ae===null)throw new Error(a(11));function we(){ae.next&&ae.next(te())}we();var Pe=pe(we);return{unsubscribe:Pe}}},ie[O]=function(){return this},ie}return ue({type:b.INIT}),K={dispatch:ue,subscribe:ce,getState:te,replaceReducer:le},K[O]=ve,K}var j=T;function g(p){typeof console<"u"&&typeof console.error=="function"&&console.error(p);try{throw new Error(p)}catch{}}function e(p,u,C,K){var Y=Object.keys(u),W=C&&C.type===b.INIT?"preloadedState argument passed to createStore":"previous state received by the reducer";if(Y.length===0)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";if(!D(p))return"The "+W+' has unexpected type of "'+y(p)+'". Expected argument to be an object with the following '+('keys: "'+Y.join('", "')+'"');var X=Object.keys(p).filter(function($){return!u.hasOwnProperty($)&&!K[$]});if(X.forEach(function($){K[$]=!0}),!(C&&C.type===b.REPLACE)&&X.length>0)return"Unexpected "+(X.length>1?"keys":"key")+" "+('"'+X.join('", "')+'" found in '+W+". ")+"Expected to find one of the known reducer keys instead: "+('"'+Y.join('", "')+'". Unexpected keys will be ignored.')}function t(p){Object.keys(p).forEach(function(u){var C=p[u],K=C(void 0,{type:b.INIT});if(typeof K>"u")throw new Error(a(12));if(typeof C(void 0,{type:b.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(a(13))})}function s(p){for(var u=Object.keys(p),C={},K=0;K<u.length;K++){var Y=u[K];typeof p[Y]=="function"&&(C[Y]=p[Y])}var W=Object.keys(C),X,$;try{t(C)}catch(Q){$=Q}return function(Z,te){if(Z===void 0&&(Z={}),$)throw $;if(0)var ce;for(var ue=!1,le={},ve=0;ve<W.length;ve++){var ie=W[ve],pe=C[ie],me=Z[ie],ae=pe(me,te);if(typeof ae>"u"){var we=te&&te.type;throw new Error(a(14))}le[ie]=ae,ue=ue||ae!==me}return ue=ue||W.length!==Object.keys(Z).length,ue?le:Z}}function c(p,u){return function(){return u(p.apply(this,arguments))}}function _(p,u){if(typeof p=="function")return c(p,u);if(typeof p!="object"||p===null)throw new Error(a(16));var C={};for(var K in p){var Y=p[K];typeof Y=="function"&&(C[K]=c(Y,u))}return C}function P(){for(var p=arguments.length,u=new Array(p),C=0;C<p;C++)u[C]=arguments[C];return u.length===0?function(K){return K}:u.length===1?u[0]:u.reduce(function(K,Y){return function(){return K(Y.apply(void 0,arguments))}})}function M(){for(var p=arguments.length,u=new Array(p),C=0;C<p;C++)u[C]=arguments[C];return function(K){return function(){var Y=K.apply(void 0,arguments),W=function(){throw new Error(a(15))},X={getState:Y.getState,dispatch:function(){return W.apply(void 0,arguments)}},$=u.map(function(Q){return Q(X)});return W=P.apply(void 0,$)(Y.dispatch),l(l({},Y),{},{dispatch:W})}}}function R(){}}},ne={};function V(N){var i=ne[N];if(i!==void 0)return i.exports;var E=ne[N]={exports:{}};return G[N].call(E.exports,E,E.exports,V),E.exports}(function(){V.n=function(N){var i=N&&N.__esModule?function(){return N.default}:function(){return N};return V.d(i,{a:i}),i}})(),function(){V.d=function(N,i){for(var E in i)V.o(i,E)&&!V.o(N,E)&&Object.defineProperty(N,E,{enumerable:!0,get:i[E]})}}(),function(){V.o=function(N,i){return Object.prototype.hasOwnProperty.call(N,i)}}(),function(){V.r=function(N){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(N,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(N,"__esModule",{value:!0})}}();var oe={};return function(){var N=V(373),i=V.n(N),E=V(187),v=V.n(E),h=V(883),d=V(789),o=V(686);oe.default=i()}(),oe=oe.default,oe}()})});var ze=_t($e(),1);var Xe=G=>({select:null,value:G.value??[],model:G.model??!1,options:G.options??[],url:new URL(window.location.origin+"/options"),init:async function(){let ne=this;this.select=new ze.default(this.$refs.input,{removeItemButton:!0,searchPlaceholderValue:"Start typing to search...",searchEnabled:!0,noChoicesText:"Nothing to choose..",noResultsText:"Not found...",itemSelectText:"",searchResultLimit:G.limit??20,duplicateItemsAllowed:!1,delimiter:",",allowHTML:!1,addItemText:V=>`Press Enter to add "${V}"`,shouldSort:!1,searchFields:["label","value"]}),this.select.dependValue=G.dependValue,this.select.refreshChoice=async(V=null,oe)=>{if(this.select.clearStore(),this.select.clearChoices(),oe&&this.select.setChoices(this.options),!V||V==this.select.dependValue){this.select.itemList.element.innerHTML=`<div class='choices__placeholder choices__item'>${G.placeholder??"Select an option"}</div>`;return}V==this.select.dependValue&&(this.select.dependValue=null),this.select.dependValue=V,this.select.itemList.element.innerHTML="<div class='choices__placeholder choices__item'>Loading...</div>",G.module&&this.url.searchParams.set("module",G.module),G.dependColumn&&this.url.searchParams.set("dependColumn",G.dependColumn),this.url.searchParams.delete("value"),this.url.searchParams.set("dependValue",V);let N=await(await fetch(this.url)).json();this.select.itemList.element.innerHTML=`<div class='choices__placeholder choices__item'>${G.placeholder??"Select an option"}</div>`,N.length&&this.select.setChoices(N)},this.select.setChoices(this.options),this.model&&(G.dependColumn&&this.url.searchParams.set("dependColumn",G.dependColumn),G.module&&this.url.searchParams.set("module",G.module),G.limit&&this.url.searchParams.set("limit",G.limit),this.value&&this.url.searchParams.set("value",this.value),this.select.dependValue&&this.url.searchParams.set("dependValue",this.select.dependValue),this.select.passedElement.element.addEventListener("search",window.Alpine.debounce(async V=>{this.select.clearChoices(),await this.select.setChoices([{label:"Loading...",value:"",disabled:!0}]),this.url.searchParams.set("search",V.detail.value);let oe=await(await fetch(this.url.href)).json();this.select.clearChoices(),oe.length&&this.select.setChoices(oe)},500))),this.select._isSelectElement&&(this.value=this.options.filter(V=>V.selected),!this.value.length&&this.select._isSelectOneElement&&(this.select.itemList.element.innerHTML=`<div class='choices__placeholder choices__item'>${G.placeholder??"Select an option"}</div>`),this.select.passedElement.element.addEventListener("showDropdown",async()=>{}),this.select.passedElement.element.addEventListener("removeItem",async()=>{typeof this.select.getValue(!0)>"u"&&(this.select.itemList.element.innerHTML=`<div class='choices__placeholder choices__item'>${G.placeholder??"Select an option"}</div>`)})),Object.entries(G.dependTo).forEach(([V,oe])=>{document.querySelector(`[data-input-name=${V}]`)?.addEventListener(oe,function(){ne.select.refreshChoice(this.value)})}),window.Select||(window.Select={}),window.Select[this.$refs.input.name??this.$refs.input.id]=this.select}});window.initSelect=Xe;var wt=Xe;export{wt as default};
/*! Bundled license information:

choices.js/public/assets/scripts/choices.js:
  (*! choices.js v10.2.0 |  2022 Josh Johnson | https://github.com/jshjohnson/Choices#readme *)
*/
