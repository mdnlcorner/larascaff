function j(i){return i[i.length-1]}function T(i,...e){return e.forEach(t=>{i.includes(t)||i.push(t)}),i}function ge(i,e){return i?i.split(e):[]}function J(i,e,t){let n=e===void 0||i>=e,s=t===void 0||i<=t;return n&&s}function ne(i,e,t){return i<e?e:i>t?t:i}function N(i,e,t={},n=0,s=""){let r=Object.keys(t).reduce((d,c)=>{let o=t[c];return typeof o=="function"&&(o=o(n)),`${d} ${c}="${o}"`},i);s+=`<${r}></${i}>`;let a=n+1;return a<e?N(i,e,t,a,s):s}function $(i){return i.replace(/>\s+/g,">").replace(/\s+</,"<")}function se(i){return new Date(i).setHours(0,0,0,0)}function O(){return new Date().setHours(0,0,0,0)}function C(...i){switch(i.length){case 0:return O();case 1:return se(i[0])}let e=new Date(0);return e.setFullYear(...i),e.setHours(0,0,0,0)}function R(i,e){let t=new Date(i);return t.setDate(t.getDate()+e)}function Ne(i,e){return R(i,e*7)}function K(i,e){let t=new Date(i),n=t.getMonth()+e,s=n%12;s<0&&(s+=12);let r=t.setMonth(n);return t.getMonth()!==s?t.setDate(0):r}function B(i,e){let t=new Date(i),n=t.getMonth(),s=t.setFullYear(t.getFullYear()+e);return n===1&&t.getMonth()===2?t.setDate(0):s}function Se(i,e){return(i-e+7)%7}function A(i,e,t=0){let n=new Date(i).getDay();return R(i,Se(e,t)-Se(n,t))}function Ce(i,e){return Math.round((i-e)/6048e5)+1}function Fe(i){let e=A(i,4,1),t=A(new Date(e).setMonth(0,4),4,1);return Ce(e,t)}function Te(i,e){let t=A(new Date(i).setMonth(0,1),e,e),n=A(i,e,e),s=Ce(n,t);if(s<53)return s;let r=A(new Date(i).setDate(32),e,e);return n===r?1:s}function Ee(i){return Te(i,0)}function Ve(i){return Te(i,6)}function I(i,e){let t=new Date(i).getFullYear();return Math.floor(t/e)*e}function v(i,e,t){if(e!==1&&e!==2)return i;let n=new Date(i);return e===1?t?n.setMonth(n.getMonth()+1,0):n.setDate(1):t?n.setFullYear(n.getFullYear()+1,0,0):n.setMonth(0,1),n.setHours(0,0,0,0)}var ae=/dd?|DD?|mm?|MM?|yy?(?:yy)?/,Dt=/[\s!-/:-@[-`{-~年月日]+/,we={},Ae={y(i,e){return new Date(i).setFullYear(parseInt(e,10))},m(i,e,t){let n=new Date(i),s=parseInt(e,10)-1;if(isNaN(s)){if(!e)return NaN;let r=e.toLowerCase(),a=d=>d.toLowerCase().startsWith(r);if(s=t.monthsShort.findIndex(a),s<0&&(s=t.months.findIndex(a)),s<0)return NaN}return n.setMonth(s),n.getMonth()!==Be(s)?n.setDate(0):n.getTime()},d(i,e){return new Date(i).setDate(parseInt(e,10))}},yt={d(i){return i.getDate()},dd(i){return re(i.getDate(),2)},D(i,e){return e.daysShort[i.getDay()]},DD(i,e){return e.days[i.getDay()]},m(i){return i.getMonth()+1},mm(i){return re(i.getMonth()+1,2)},M(i,e){return e.monthsShort[i.getMonth()]},MM(i,e){return e.months[i.getMonth()]},y(i){return i.getFullYear()},yy(i){return re(i.getFullYear(),2).slice(-2)},yyyy(i){return re(i.getFullYear(),4)}};function Be(i){return i>-1?i%12:Be(i+12)}function re(i,e){return i.toString().padStart(e,"0")}function Le(i){if(typeof i!="string")throw new Error("Invalid date format.");if(i in we)return we[i];let e=i.split(ae),t=i.match(new RegExp(ae,"g"));if(e.length===0||!t)throw new Error("Invalid date format.");let n=t.map(r=>yt[r]),s=Object.keys(Ae).reduce((r,a)=>(t.find(c=>c[0]!=="D"&&c[0].toLowerCase()===a)&&r.push(a),r),[]);return we[i]={parser(r,a){let d=r.split(Dt).reduce((c,o,u)=>{if(o.length>0&&t[u]){let h=t[u][0];h==="M"?c.m=o:h!=="D"&&(c[h]=o)}return c},{});return s.reduce((c,o)=>{let u=Ae[o](c,d[o],a);return isNaN(u)?c:u},O())},formatter(r,a){let d=n.reduce((c,o,u)=>c+=`${e[u]}${o(r,a)}`,"");return d+=j(e)}}}function E(i,e,t){if(i instanceof Date||typeof i=="number"){let n=se(i);return isNaN(n)?void 0:n}if(i){if(i==="today")return O();if(e&&e.toValue){let n=e.toValue(i,e,t);return isNaN(n)?void 0:se(n)}return Le(e).parser(i,t)}}function H(i,e,t){if(isNaN(i)||!i&&i!==0)return"";let n=typeof i=="number"?new Date(i):i;return e.toDisplay?e.toDisplay(n,e,t):Le(e).formatter(n,t)}var bt=document.createRange();function y(i){return bt.createContextualFragment(i)}function De(i){return i.parentElement||(i.parentNode instanceof ShadowRoot?i.parentNode.host:void 0)}function L(i){return i.getRootNode().activeElement===i}function P(i){i.style.display!=="none"&&(i.style.display&&(i.dataset.styleDisplay=i.style.display),i.style.display="none")}function _(i){i.style.display==="none"&&(i.dataset.styleDisplay?(i.style.display=i.dataset.styleDisplay,delete i.dataset.styleDisplay):i.style.display="")}function G(i){i.firstChild&&(i.removeChild(i.firstChild),G(i))}function We(i,e){G(i),e instanceof DocumentFragment?i.appendChild(e):typeof e=="string"?i.appendChild(y(e)):typeof e.forEach=="function"&&e.forEach(t=>{i.appendChild(t)})}var oe=new WeakMap,{addEventListener:kt,removeEventListener:xt}=EventTarget.prototype;function z(i,e){let t=oe.get(i);t||(t=[],oe.set(i,t)),e.forEach(n=>{kt.call(...n),t.push(n)})}function ye(i){let e=oe.get(i);e&&(e.forEach(t=>{xt.call(...t)}),oe.delete(i))}if(!Event.prototype.composedPath){let i=(e,t=[])=>{t.push(e);let n;return e.parentNode?n=e.parentNode:e.host?n=e.host:e.defaultView&&(n=e.defaultView),n?i(n,t):t};Event.prototype.composedPath=function(){return i(this.target)}}function Ye(i,e,t){let[n,...s]=i;if(e(n))return n;if(!(n===t||n.tagName==="HTML"||s.length===0))return Ye(s,e,t)}function de(i,e){let t=typeof e=="function"?e:n=>n instanceof Element&&n.matches(e);return Ye(i.composedPath(),t,i.currentTarget)}var U={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM y"}};var Z={autohide:!1,beforeShowDay:null,beforeShowDecade:null,beforeShowMonth:null,beforeShowYear:null,clearButton:!1,dateDelimiter:",",datesDisabled:[],daysOfWeekDisabled:[],daysOfWeekHighlighted:[],defaultViewDate:void 0,disableTouchKeyboard:!1,enableOnReadonly:!0,format:"mm/dd/yyyy",language:"en",maxDate:null,maxNumberOfDates:1,maxView:3,minDate:null,nextArrow:"\xBB",orientation:"auto",pickLevel:0,prevArrow:"\xAB",showDaysOfWeek:!0,showOnClick:!0,showOnFocus:!0,startView:0,title:"",todayButton:!1,todayButtonMode:0,todayHighlight:!1,updateOnBlur:!0,weekNumbers:0,weekStart:0};var{language:be,format:vt,weekStart:Mt}=Z;function Re(i,e){return i.length<6&&e>=0&&e<7?T(i,e):i}function He(i,e){switch(i===4?e===6?3:!e+1:i){case 1:return Fe;case 2:return Ee;case 3:return Ve}}function Ke(i,e,t){return e.weekStart=i,e.weekEnd=(i+6)%7,t===4&&(e.getWeekNumber=He(4,i)),i}function Ie(i,e,t,n){let s=E(i,e,t);return s!==void 0?s:n}function ke(i,e,t=3){let n=parseInt(i,10);return n>=0&&n<=t?n:e}function ce(i,e,t,n=void 0){e in i&&(t in i||(i[t]=n?n(i[e]):i[e]),delete i[e])}function Q(i,e){let t=Object.assign({},i),n={},s=e.constructor.locales,r=!!e.rangeSideIndex,{datesDisabled:a,format:d,language:c,locale:o,maxDate:u,maxView:h,minDate:S,pickLevel:m,startView:w,weekNumbers:f,weekStart:D}=e.config||{};if(ce(t,"calendarWeeks","weekNumbers",l=>l?1:0),ce(t,"clearBtn","clearButton"),ce(t,"todayBtn","todayButton"),ce(t,"todayBtnMode","todayButtonMode"),t.language){let l;if(t.language!==c&&(s[t.language]?l=t.language:(l=t.language.split("-")[0],s[l]||(l=!1))),delete t.language,l){c=n.language=l;let p=o||s[be];o=Object.assign({format:vt,weekStart:Mt},s[be]),c!==be&&Object.assign(o,s[c]),n.locale=o,d===p.format&&(d=n.format=o.format),D===p.weekStart&&(D=Ke(o.weekStart,n,f))}}if(t.format){let l=typeof t.format.toDisplay=="function",p=typeof t.format.toValue=="function",g=ae.test(t.format);(l&&p||g)&&(d=n.format=t.format),delete t.format}let x=m;"pickLevel"in t&&(x=ke(t.pickLevel,m,2),delete t.pickLevel),x!==m&&(x>m&&("minDate"in t||(t.minDate=S),"maxDate"in t||(t.maxDate=u)),a&&!t.datesDisabled&&(t.datesDisabled=[]),m=n.pickLevel=x);let M=S,b=u;if("minDate"in t){let l=C(0,0,1);M=t.minDate===null?l:Ie(t.minDate,d,o,M),M!==l&&(M=v(M,m,!1)),delete t.minDate}if("maxDate"in t&&(b=t.maxDate===null?void 0:Ie(t.maxDate,d,o,b),b!==void 0&&(b=v(b,m,!0)),delete t.maxDate),b<M?(S=n.minDate=b,u=n.maxDate=M):(S!==M&&(S=n.minDate=M),u!==b&&(u=n.maxDate=b)),t.datesDisabled){let l=t.datesDisabled;if(typeof l=="function")n.datesDisabled=null,n.checkDisabled=(p,g)=>l(new Date(p),g,r);else{let p=n.datesDisabled=l.reduce((g,pe)=>{let Oe=E(pe,d,o);return Oe!==void 0?T(g,v(Oe,m,r)):g},[]);n.checkDisabled=g=>p.includes(g)}delete t.datesDisabled}if("defaultViewDate"in t){let l=E(t.defaultViewDate,d,o);l!==void 0&&(n.defaultViewDate=l),delete t.defaultViewDate}if("weekStart"in t){let l=Number(t.weekStart)%7;isNaN(l)||(D=Ke(l,n,f)),delete t.weekStart}if(t.daysOfWeekDisabled&&(n.daysOfWeekDisabled=t.daysOfWeekDisabled.reduce(Re,[]),delete t.daysOfWeekDisabled),t.daysOfWeekHighlighted&&(n.daysOfWeekHighlighted=t.daysOfWeekHighlighted.reduce(Re,[]),delete t.daysOfWeekHighlighted),"weekNumbers"in t){let l=t.weekNumbers;if(l){let p=typeof l=="function"?(g,pe)=>l(new Date(g),pe):He(l=parseInt(l,10),D);p&&(f=n.weekNumbers=l,n.getWeekNumber=p)}else f=n.weekNumbers=0,n.getWeekNumber=null;delete t.weekNumbers}if("maxNumberOfDates"in t){let l=parseInt(t.maxNumberOfDates,10);l>=0&&(n.maxNumberOfDates=l,n.multidate=l!==1),delete t.maxNumberOfDates}t.dateDelimiter&&(n.dateDelimiter=String(t.dateDelimiter),delete t.dateDelimiter);let F=h;"maxView"in t&&(F=ke(t.maxView,h),delete t.maxView),F=m>F?m:F,F!==h&&(h=n.maxView=F);let k=w;if("startView"in t&&(k=ke(t.startView,k),delete t.startView),k<m?k=m:k>h&&(k=h),k!==w&&(n.startView=k),t.prevArrow){let l=y(t.prevArrow);l.childNodes.length>0&&(n.prevArrow=l.childNodes),delete t.prevArrow}if(t.nextArrow){let l=y(t.nextArrow);l.childNodes.length>0&&(n.nextArrow=l.childNodes),delete t.nextArrow}if("disableTouchKeyboard"in t&&(n.disableTouchKeyboard="ontouchstart"in document&&!!t.disableTouchKeyboard,delete t.disableTouchKeyboard),t.orientation){let l=t.orientation.toLowerCase().split(/\s+/g);n.orientation={x:l.find(p=>p==="left"||p==="right")||"auto",y:l.find(p=>p==="top"||p==="bottom")||"auto"},delete t.orientation}if("todayButtonMode"in t){switch(t.todayButtonMode){case 0:case 1:n.todayButtonMode=t.todayButtonMode}delete t.todayButtonMode}return Object.entries(t).forEach(([l,p])=>{p!==void 0&&l in Z&&(n[l]=p)}),n}var Pe={show:{key:"ArrowDown"},hide:null,toggle:{key:"Escape"},prevButton:{key:"ArrowLeft",ctrlOrMetaKey:!0},nextButton:{key:"ArrowRight",ctrlOrMetaKey:!0},viewSwitch:{key:"ArrowUp",ctrlOrMetaKey:!0},clearButton:{key:"Backspace",ctrlOrMetaKey:!0},todayButton:{key:".",ctrlOrMetaKey:!0},exitEditMode:{key:"ArrowDown",ctrlOrMetaKey:!0}};function xe(i){return Object.keys(Pe).reduce((e,t)=>{let n=i[t]===void 0?Pe[t]:i[t],s=n&&n.key;if(!s||typeof s!="string")return e;let r={key:s,ctrlOrMetaKey:!!(n.ctrlOrMetaKey||n.ctrlKey||n.metaKey)};return s.length>1&&(r.altKey=!!n.altKey,r.shiftKey=!!n.shiftKey),e[t]=r,e},{})}var _e=i=>i.map(e=>`<button type="button" class="%buttonClass% ${e}" tabindex="-1"></button>`).join(""),je=$(`<div class="datepicker">
  <div class="datepicker-picker">
    <div class="datepicker-header">
      <div class="datepicker-title"></div>
      <div class="datepicker-controls">
        ${_e(["prev-button prev-btn","view-switch","next-button next-btn"])}
      </div>
    </div>
    <div class="datepicker-main"></div>
    <div class="datepicker-footer">
      <div class="datepicker-controls">
        ${_e(["today-button today-btn","clear-button clear-btn"])}
      </div>
    </div>
  </div>
</div>`);var Je=$(`<div class="days">
  <div class="days-of-week">${N("span",7,{class:"dow"})}</div>
  <div class="datepicker-grid">${N("span",42)}</div>
</div>`);var $e=$(`<div class="week-numbers calendar-weeks">
  <div class="days-of-week"><span class="dow"></span></div>
  <div class="weeks">${N("span",6,{class:"week"})}</div>
</div>`);var V=class{constructor(e,t){Object.assign(this,t,{picker:e,element:y('<div class="datepicker-view"></div>').firstChild,selected:[],isRangeEnd:!!e.datepicker.rangeSideIndex}),this.init(this.picker.datepicker.config)}init(e){"pickLevel"in e&&(this.isMinView=this.id===e.pickLevel),this.setOptions(e),this.updateFocus(),this.updateSelection()}prepareForRender(e,t,n){this.disabled=[];let s=this.picker;s.setViewSwitchLabel(e),s.setPrevButtonDisabled(t),s.setNextButtonDisabled(n)}setDisabled(e,t){t.add("disabled"),T(this.disabled,e)}performBeforeHook(e,t){let n=this.beforeShow(new Date(t));switch(typeof n){case"boolean":n={enabled:n};break;case"string":n={classes:n}}if(n){let s=e.classList;if(n.enabled===!1&&this.setDisabled(t,s),n.classes){let r=n.classes.split(/\s+/);s.add(...r),r.includes("disabled")&&this.setDisabled(t,s)}n.content&&We(e,n.content)}}renderCell(e,t,n,s,{selected:r,range:a},d,c=[]){e.textContent=t,this.isMinView&&(e.dataset.date=s);let o=e.classList;if(e.className=`datepicker-cell ${this.cellClass}`,n<this.first?o.add("prev"):n>this.last&&o.add("next"),o.add(...c),(d||this.checkDisabled(s,this.id))&&this.setDisabled(s,o),a){let[u,h]=a;n>u&&n<h&&o.add("range"),n===u&&o.add("range-start"),n===h&&o.add("range-end")}r.includes(n)&&o.add("selected"),n===this.focused&&o.add("focused"),this.beforeShow&&this.performBeforeHook(e,s)}refreshCell(e,t,n,[s,r]){let a=e.classList;a.remove("range","range-start","range-end","selected","focused"),t>s&&t<r&&a.add("range"),t===s&&a.add("range-start"),t===r&&a.add("range-end"),n.includes(t)&&a.add("selected"),t===this.focused&&a.add("focused")}changeFocusedCell(e){this.grid.querySelectorAll(".focused").forEach(t=>{t.classList.remove("focused")}),this.grid.children[e].classList.add("focused")}};var ee=class extends V{constructor(e){super(e,{id:0,name:"days",cellClass:"day"})}init(e,t=!0){if(t){let n=y(Je).firstChild;this.dow=n.firstChild,this.grid=n.lastChild,this.element.appendChild(n)}super.init(e)}setOptions(e){let t;if("minDate"in e&&(this.minDate=e.minDate),"maxDate"in e&&(this.maxDate=e.maxDate),e.checkDisabled&&(this.checkDisabled=e.checkDisabled),e.daysOfWeekDisabled&&(this.daysOfWeekDisabled=e.daysOfWeekDisabled,t=!0),e.daysOfWeekHighlighted&&(this.daysOfWeekHighlighted=e.daysOfWeekHighlighted),"todayHighlight"in e&&(this.todayHighlight=e.todayHighlight),"weekStart"in e&&(this.weekStart=e.weekStart,this.weekEnd=e.weekEnd,t=!0),e.locale){let n=this.locale=e.locale;this.dayNames=n.daysMin,this.switchLabelFormat=n.titleFormat,t=!0}if("beforeShowDay"in e&&(this.beforeShow=typeof e.beforeShowDay=="function"?e.beforeShowDay:void 0),"weekNumbers"in e)if(e.weekNumbers&&!this.weekNumbers){let n=y($e).firstChild;this.weekNumbers={element:n,dow:n.firstChild,weeks:n.lastChild},this.element.insertBefore(n,this.element.firstChild)}else this.weekNumbers&&!e.weekNumbers&&(this.element.removeChild(this.weekNumbers.element),this.weekNumbers=null);"getWeekNumber"in e&&(this.getWeekNumber=e.getWeekNumber),"showDaysOfWeek"in e&&(e.showDaysOfWeek?(_(this.dow),this.weekNumbers&&_(this.weekNumbers.dow)):(P(this.dow),this.weekNumbers&&P(this.weekNumbers.dow))),t&&Array.from(this.dow.children).forEach((n,s)=>{let r=(this.weekStart+s)%7;n.textContent=this.dayNames[r],n.className=this.daysOfWeekDisabled.includes(r)?"dow disabled":"dow"})}updateFocus(){let e=new Date(this.picker.viewDate),t=e.getFullYear(),n=e.getMonth(),s=C(t,n,1),r=A(s,this.weekStart,this.weekStart);this.first=s,this.last=C(t,n+1,0),this.start=r,this.focused=this.picker.viewDate}updateSelection(){let{dates:e,rangepicker:t}=this.picker.datepicker;this.selected=e,t&&(this.range=t.dates)}render(){if(this.today=this.todayHighlight?O():void 0,this.prepareForRender(H(this.focused,this.switchLabelFormat,this.locale),this.first<=this.minDate,this.last>=this.maxDate),this.weekNumbers){let e=this.weekStart,t=A(this.first,e,e);Array.from(this.weekNumbers.weeks.children).forEach((n,s)=>{let r=Ne(t,s);n.textContent=this.getWeekNumber(r,e),s>3&&n.classList[r>this.last?"add":"remove"]("next")})}Array.from(this.grid.children).forEach((e,t)=>{let n=R(this.start,t),s=new Date(n),r=s.getDay(),a=[];this.today===n&&a.push("today"),this.daysOfWeekHighlighted.includes(r)&&a.push("highlighted"),this.renderCell(e,s.getDate(),n,n,this,n<this.minDate||n>this.maxDate||this.daysOfWeekDisabled.includes(r),a)})}refresh(){let e=this.range||[];Array.from(this.grid.children).forEach(t=>{this.refreshCell(t,Number(t.dataset.date),this.selected,e)})}refreshFocus(){this.changeFocusedCell(Math.round((this.focused-this.start)/864e5))}};function ze(i,e){if(!i||!i[0]||!i[1])return;let[[t,n],[s,r]]=i;if(!(t>e||s<e))return[t===e?n:-1,s===e?r:12]}var te=class extends V{constructor(e){super(e,{id:1,name:"months",cellClass:"month"})}init(e,t=!0){t&&(this.grid=this.element,this.element.classList.add("months","datepicker-grid"),this.grid.appendChild(y(N("span",12,{"data-month":n=>n}))),this.first=0,this.last=11),super.init(e)}setOptions(e){if(e.locale&&(this.monthNames=e.locale.monthsShort),"minDate"in e)if(e.minDate===void 0)this.minYear=this.minMonth=this.minDate=void 0;else{let t=new Date(e.minDate);this.minYear=t.getFullYear(),this.minMonth=t.getMonth(),this.minDate=t.setDate(1)}if("maxDate"in e)if(e.maxDate===void 0)this.maxYear=this.maxMonth=this.maxDate=void 0;else{let t=new Date(e.maxDate);this.maxYear=t.getFullYear(),this.maxMonth=t.getMonth(),this.maxDate=C(this.maxYear,this.maxMonth+1,0)}e.checkDisabled&&(this.checkDisabled=this.isMinView||e.datesDisabled===null?e.checkDisabled:()=>!1),"beforeShowMonth"in e&&(this.beforeShow=typeof e.beforeShowMonth=="function"?e.beforeShowMonth:void 0)}updateFocus(){let e=new Date(this.picker.viewDate);this.year=e.getFullYear(),this.focused=e.getMonth()}updateSelection(){let{dates:e,rangepicker:t}=this.picker.datepicker;this.selected=e.reduce((n,s)=>{let r=new Date(s),a=r.getFullYear(),d=r.getMonth();return n[a]===void 0?n[a]=[d]:T(n[a],d),n},{}),t&&t.dates&&(this.range=t.dates.map(n=>{let s=new Date(n);return isNaN(s)?void 0:[s.getFullYear(),s.getMonth()]}))}render(){this.prepareForRender(this.year,this.year<=this.minYear,this.year>=this.maxYear);let e=this.selected[this.year]||[],t=this.year<this.minYear||this.year>this.maxYear,n=this.year===this.minYear,s=this.year===this.maxYear,r=ze(this.range,this.year);Array.from(this.grid.children).forEach((a,d)=>{let c=v(new Date(this.year,d,1),1,this.isRangeEnd);this.renderCell(a,this.monthNames[d],d,c,{selected:e,range:r},t||n&&d<this.minMonth||s&&d>this.maxMonth)})}refresh(){let e=this.selected[this.year]||[],t=ze(this.range,this.year)||[];Array.from(this.grid.children).forEach((n,s)=>{this.refreshCell(n,s,e,t)})}refreshFocus(){this.changeFocusedCell(this.focused)}};function Ot(i){return[...i].reduce((e,t,n)=>e+=n?t:t.toUpperCase(),"")}var q=class extends V{constructor(e,t){super(e,t)}init(e,t=!0){t&&(this.navStep=this.step*10,this.beforeShowOption=`beforeShow${Ot(this.cellClass)}`,this.grid=this.element,this.element.classList.add(this.name,"datepicker-grid"),this.grid.appendChild(y(N("span",12)))),super.init(e)}setOptions(e){if("minDate"in e&&(e.minDate===void 0?this.minYear=this.minDate=void 0:(this.minYear=I(e.minDate,this.step),this.minDate=C(this.minYear,0,1))),"maxDate"in e&&(e.maxDate===void 0?this.maxYear=this.maxDate=void 0:(this.maxYear=I(e.maxDate,this.step),this.maxDate=C(this.maxYear,11,31))),e.checkDisabled&&(this.checkDisabled=this.isMinView||e.datesDisabled===null?e.checkDisabled:()=>!1),this.beforeShowOption in e){let t=e[this.beforeShowOption];this.beforeShow=typeof t=="function"?t:void 0}}updateFocus(){let e=new Date(this.picker.viewDate),t=I(e,this.navStep),n=t+9*this.step;this.first=t,this.last=n,this.start=t-this.step,this.focused=I(e,this.step)}updateSelection(){let{dates:e,rangepicker:t}=this.picker.datepicker;this.selected=e.reduce((n,s)=>T(n,I(s,this.step)),[]),t&&t.dates&&(this.range=t.dates.map(n=>{if(n!==void 0)return I(n,this.step)}))}render(){this.prepareForRender(`${this.first}-${this.last}`,this.first<=this.minYear,this.last>=this.maxYear),Array.from(this.grid.children).forEach((e,t)=>{let n=this.start+t*this.step,s=v(new Date(n,0,1),2,this.isRangeEnd);e.dataset.year=n,this.renderCell(e,n,n,s,this,n<this.minYear||n>this.maxYear)})}refresh(){let e=this.range||[];Array.from(this.grid.children).forEach(t=>{this.refreshCell(t,Number(t.textContent),this.selected,e)})}refreshFocus(){this.changeFocusedCell(Math.round((this.focused-this.start)/this.step))}};function W(i,e){let t={bubbles:!0,cancelable:!0,detail:{date:i.getDate(),viewDate:new Date(i.picker.viewDate),viewId:i.picker.currentView.id,datepicker:i}};i.element.dispatchEvent(new CustomEvent(e,t))}function X(i,e){let{config:t,picker:n}=i,{currentView:s,viewDate:r}=n,a;switch(s.id){case 0:a=K(r,e);break;case 1:a=B(r,e);break;default:a=B(r,e*s.navStep)}a=ne(a,t.minDate,t.maxDate),n.changeFocus(a).render()}function le(i){let e=i.picker.currentView.id;e!==i.config.maxView&&i.picker.changeView(e+1).render()}function ue(i){i.setDate({clear:!0})}function fe(i){let e=O();i.config.todayButtonMode===1?i.setDate(e,{forceRefresh:!0,viewDate:e}):i.setFocusedDate(e,!0)}function he(i){let e=()=>{i.config.updateOnBlur?i.update({revert:!0}):i.refresh("input"),i.hide()},t=i.element;L(t)?t.addEventListener("blur",e,{once:!0}):e()}function Ue(i,e){let t=i.picker,n=new Date(t.viewDate),s=t.currentView.id,r=s===1?K(n,e-n.getMonth()):B(n,e-n.getFullYear());t.changeFocus(r).changeView(s-1).render()}function qe(i){le(i)}function Xe(i){X(i,-1)}function Ge(i){X(i,1)}function Ze(i,e){let t=de(e,".datepicker-cell");if(!t||t.classList.contains("disabled"))return;let{id:n,isMinView:s}=i.picker.currentView,r=t.dataset;s?i.setDate(Number(r.date)):n===1?Ue(i,Number(r.month)):Ue(i,Number(r.year))}function Qe(i){i.preventDefault()}var ve=["left","top","right","bottom"].reduce((i,e)=>(i[e]=`datepicker-orient-${e}`,i),{}),et=i=>i&&`${i}px`;function tt(i,e){if("title"in e&&(e.title?(i.controls.title.textContent=e.title,_(i.controls.title)):(i.controls.title.textContent="",P(i.controls.title))),e.prevArrow){let t=i.controls.prevButton;G(t),e.prevArrow.forEach(n=>{t.appendChild(n.cloneNode(!0))})}if(e.nextArrow){let t=i.controls.nextButton;G(t),e.nextArrow.forEach(n=>{t.appendChild(n.cloneNode(!0))})}if(e.locale&&(i.controls.todayButton.textContent=e.locale.today,i.controls.clearButton.textContent=e.locale.clear),"todayButton"in e&&(e.todayButton?_(i.controls.todayButton):P(i.controls.todayButton)),"minDate"in e||"maxDate"in e){let{minDate:t,maxDate:n}=i.datepicker.config;i.controls.todayButton.disabled=!J(O(),t,n)}"clearButton"in e&&(e.clearButton?_(i.controls.clearButton):P(i.controls.clearButton))}function it(i){let{dates:e,config:t,rangeSideIndex:n}=i,s=e.length>0?j(e):v(t.defaultViewDate,t.pickLevel,n);return ne(s,t.minDate,t.maxDate)}function nt(i,e){!("_oldViewDate"in i)&&e!==i.viewDate&&(i._oldViewDate=i.viewDate),i.viewDate=e;let{id:t,year:n,first:s,last:r}=i.currentView,a=new Date(e).getFullYear();switch(t){case 0:return e<s||e>r;case 1:return a!==n;default:return a<s||a>r}}function Me(i){return window.getComputedStyle(i).direction}function st(i){let e=De(i);if(!(e===document.body||!e))return window.getComputedStyle(e).overflow!=="visible"?e:st(e)}var ie=class{constructor(e){let{config:t,inputField:n}=this.datepicker=e,s=je.replace(/%buttonClass%/g,t.buttonClass),r=this.element=y(s).firstChild,[a,d,c]=r.firstChild.children,o=a.firstElementChild,[u,h,S]=a.lastElementChild.children,[m,w]=c.firstChild.children,f={title:o,prevButton:u,viewSwitch:h,nextButton:S,todayButton:m,clearButton:w};this.main=d,this.controls=f;let D=n?"dropdown":"inline";r.classList.add(`datepicker-${D}`),tt(this,t),this.viewDate=it(e),z(e,[[r,"mousedown",Qe],[d,"click",Ze.bind(null,e)],[f.viewSwitch,"click",qe.bind(null,e)],[f.prevButton,"click",Xe.bind(null,e)],[f.nextButton,"click",Ge.bind(null,e)],[f.todayButton,"click",fe.bind(null,e)],[f.clearButton,"click",ue.bind(null,e)]]),this.views=[new ee(this),new te(this),new q(this,{id:2,name:"years",cellClass:"year",step:1}),new q(this,{id:3,name:"decades",cellClass:"decade",step:10})],this.currentView=this.views[t.startView],this.currentView.render(),this.main.appendChild(this.currentView.element),t.container?t.container.appendChild(this.element):n.after(this.element)}setOptions(e){tt(this,e),this.views.forEach(t=>{t.init(e,!1)}),this.currentView.render()}detach(){this.element.remove()}show(){if(this.active)return;let{datepicker:e,element:t}=this,n=e.inputField;if(n){let s=Me(n);s!==Me(De(t))?t.dir=s:t.dir&&t.removeAttribute("dir"),this.place(),t.classList.add("active"),e.config.disableTouchKeyboard&&n.blur()}else t.classList.add("active");this.active=!0,W(e,"show")}hide(){this.active&&(this.datepicker.exitEditMode(),this.element.classList.remove("active"),this.active=!1,W(this.datepicker,"hide"))}place(){let{classList:e,style:t}=this.element;t.display="block";let{width:n,height:s}=this.element.getBoundingClientRect(),r=this.element.offsetParent;t.display="";let{config:a,inputField:d}=this.datepicker,{left:c,top:o,right:u,bottom:h,width:S,height:m}=d.getBoundingClientRect(),{x:w,y:f}=a.orientation,D=c,x=o;if(r===document.body||!r)D+=window.scrollX,x+=window.scrollY;else{let g=r.getBoundingClientRect();D-=g.left-r.scrollLeft,x-=g.top-r.scrollTop}let M=st(d),b=0,F=0,{clientWidth:k,clientHeight:l}=document.documentElement;if(M){let g=M.getBoundingClientRect();g.top>0&&(F=g.top),g.left>0&&(b=g.left),g.right<k&&(k=g.right),g.bottom<l&&(l=g.bottom)}let p=0;w==="auto"&&(c<b?(w="left",p=b-c):c+n>k?(w="right",k<u&&(p=k-u)):Me(d)==="rtl"?w=u-n<b?"left":"right":w="left"),w==="right"&&(D+=S-n),D+=p,f==="auto"&&(o-s>F?f=h+s>l?"top":"bottom":f="bottom"),f==="top"?x-=s:x+=m,e.remove(...Object.values(ve)),e.add(ve[w],ve[f]),t.left=et(D),t.top=et(x)}setViewSwitchLabel(e){this.controls.viewSwitch.textContent=e}setPrevButtonDisabled(e){this.controls.prevButton.disabled=e}setNextButtonDisabled(e){this.controls.nextButton.disabled=e}changeView(e){let t=this.currentView;return e!==t.id&&(this._oldView||(this._oldView=t),this.currentView=this.views[e],this._renderMethod="render"),this}changeFocus(e){return this._renderMethod=nt(this,e)?"render":"refreshFocus",this.views.forEach(t=>{t.updateFocus()}),this}update(e=void 0){let t=e===void 0?it(this.datepicker):e;return this._renderMethod=nt(this,t)?"render":"refresh",this.views.forEach(n=>{n.updateFocus(),n.updateSelection()}),this}render(e=!0){let{currentView:t,datepicker:n,_oldView:s}=this,r=new Date(this._oldViewDate),a=e&&this._renderMethod||"render";if(delete this._oldView,delete this._oldViewDate,delete this._renderMethod,t[a](),s&&(this.main.replaceChild(t.element,s.element),W(n,"changeView")),!isNaN(r)){let d=new Date(this.viewDate);d.getFullYear()!==r.getFullYear()&&W(n,"changeYear"),d.getMonth()!==r.getMonth()&&W(n,"changeMonth")}}};function rt(i,e,t,n,s,r){if(J(i,s,r)){if(n(i)){let a=e(i,t);return rt(a,e,t,n,s,r)}return i}}function St(i,e,t){let n=i.picker,s=n.currentView,r=s.step||1,a=n.viewDate,d;switch(s.id){case 0:a=R(a,t?e*7:e),d=R;break;case 1:a=K(a,t?e*4:e),d=K;break;default:a=B(a,e*(t?4:1)*r),d=B}a=rt(a,d,e<0?-r:r,c=>s.disabled.includes(c),s.minDate,s.maxDate),a!==void 0&&n.changeFocus(a).render()}function at(i,e){let{config:t,picker:n,editMode:s}=i,r=n.active,{key:a,altKey:d,shiftKey:c}=e,o=e.ctrlKey||e.metaKey,u=()=>{e.preventDefault(),e.stopPropagation()};if(a==="Tab"){he(i);return}if(a==="Enter"){if(!r)i.update();else if(s)i.exitEditMode({update:!0,autohide:t.autohide});else{let f=n.currentView;f.isMinView?i.setDate(n.viewDate):(n.changeView(f.id-1).render(),u())}return}let h=t.shortcutKeys,S={key:a,ctrlOrMetaKey:o,altKey:d,shiftKey:c},m=Object.keys(h).find(f=>{let D=h[f];return!Object.keys(D).find(x=>D[x]!==S[x])});if(m){let f;if(m==="toggle"?f=m:s?m==="exitEditMode"&&(f=m):r?m==="hide"?f=m:m==="prevButton"?f=[X,[i,-1]]:m==="nextButton"?f=[X,[i,1]]:m==="viewSwitch"?f=[le,[i]]:t.clearButton&&m==="clearButton"?f=[ue,[i]]:t.todayButton&&m==="todayButton"&&(f=[fe,[i]]):m==="show"&&(f=m),f){Array.isArray(f)?f[0].apply(null,f[1]):i[f](),u();return}}if(!r||s)return;let w=(f,D)=>{c||o||d?i.enterEditMode():(St(i,f,D),e.preventDefault())};a==="ArrowLeft"?w(-1,!1):a==="ArrowRight"?w(1,!1):a==="ArrowUp"?w(-1,!0):a==="ArrowDown"?w(1,!0):(a==="Backspace"||a==="Delete"||a&&a.length===1&&!o)&&i.enterEditMode()}function ot(i){i.config.showOnFocus&&!i._showing&&i.show()}function dt(i,e){let t=e.target;(i.picker.active||i.config.showOnClick)&&(t._active=L(t),t._clicking=setTimeout(()=>{delete t._active,delete t._clicking},2e3))}function ct(i,e){let t=e.target;t._clicking&&(clearTimeout(t._clicking),delete t._clicking,t._active&&i.enterEditMode(),delete t._active,i.config.showOnClick&&i.show())}function lt(i,e){e.clipboardData.types.includes("text/plain")&&i.enterEditMode()}function ut(i,e){let{element:t,picker:n}=i;if(!n.active&&!L(t))return;let s=n.element;de(e,r=>r===t||r===s)||he(i)}function mt(i,e){return i.map(t=>H(t,e.format,e.locale)).join(e.dateDelimiter)}function pt(i,e,t=!1){if(e.length===0)return t?[]:void 0;let{config:n,dates:s,rangeSideIndex:r}=i,{pickLevel:a,maxNumberOfDates:d}=n,c=e.reduce((o,u)=>{let h=E(u,n.format,n.locale);return h===void 0||(h=v(h,a,r),J(h,n.minDate,n.maxDate)&&!o.includes(h)&&!n.checkDisabled(h,a)&&(a>0||!n.daysOfWeekDisabled.includes(new Date(h).getDay()))&&o.push(h)),o},[]);if(c.length!==0)return n.multidate&&!t&&(c=c.reduce((o,u)=>(s.includes(u)||o.push(u),o),s.filter(o=>!c.includes(o)))),d&&c.length>d?c.slice(d*-1):c}function me(i,e=3,t=!0,n=void 0){let{config:s,picker:r,inputField:a}=i;if(e&2){let d=r.active?s.pickLevel:s.startView;r.update(n).changeView(d).render(t)}e&1&&a&&(a.value=mt(i.dates,s))}function ft(i,e,t){let n=i.config,{clear:s,render:r,autohide:a,revert:d,forceRefresh:c,viewDate:o}=t;r===void 0&&(r=!0),r?a===void 0&&(a=n.autohide):a=c=!1,o=E(o,n.format,n.locale);let u=pt(i,e,s);!u&&!d||(u&&u.toString()!==i.dates.toString()?(i.dates=u,me(i,r?3:1,!0,o),W(i,"changeDate")):me(i,c?3:1,!0,o),a&&i.hide())}function ht(i,e){return e?t=>H(t,e,i.config.locale):t=>new Date(t)}var Y=class{constructor(e,t={},n=void 0){e.datepicker=this,this.element=e,this.dates=[];let s=this.config=Object.assign({buttonClass:t.buttonClass&&String(t.buttonClass)||"button",container:null,defaultViewDate:O(),maxDate:void 0,minDate:void 0},Q(Z,this)),r;if(e.tagName==="INPUT"?(r=this.inputField=e,r.classList.add("datepicker-input"),t.container&&(s.container=t.container instanceof HTMLElement?t.container:document.querySelector(t.container))):s.container=e,n){let u=n.inputs.indexOf(r),h=n.datepickers;if(u<0||u>1||!Array.isArray(h))throw Error("Invalid rangepicker object.");h[u]=this,this.rangepicker=n,this.rangeSideIndex=u}this._options=t,Object.assign(s,Q(t,this)),s.shortcutKeys=xe(t.shortcutKeys||{});let a=ge(e.value||e.dataset.date,s.dateDelimiter);delete e.dataset.date;let d=pt(this,a);d&&d.length>0&&(this.dates=d),r&&(r.value=mt(this.dates,s));let c=this.picker=new ie(this),o=[e,"keydown",at.bind(null,this)];r?z(this,[o,[r,"focus",ot.bind(null,this)],[r,"mousedown",dt.bind(null,this)],[r,"click",ct.bind(null,this)],[r,"paste",lt.bind(null,this)],[document,"mousedown",ut.bind(null,this)],[window,"resize",c.place.bind(c)]]):(z(this,[o]),this.show())}static formatDate(e,t,n){return H(e,t,n&&U[n]||U.en)}static parseDate(e,t,n){return E(e,t,n&&U[n]||U.en)}static get locales(){return U}get active(){return!!(this.picker&&this.picker.active)}get pickerElement(){return this.picker?this.picker.element:void 0}setOptions(e){let t=Q(e,this);Object.assign(this._options,e),Object.assign(this.config,t),this.picker.setOptions(t),me(this,3)}show(){if(this.inputField){let{config:e,inputField:t}=this;if(t.disabled||t.readOnly&&!e.enableOnReadonly)return;!L(t)&&!e.disableTouchKeyboard&&(this._showing=!0,t.focus(),delete this._showing)}this.picker.show()}hide(){this.inputField&&(this.picker.hide(),this.picker.update().changeView(this.config.startView).render())}toggle(){this.picker.active?this.inputField&&this.picker.hide():this.show()}destroy(){this.hide(),ye(this),this.picker.detach();let e=this.element;return e.classList.remove("datepicker-input"),delete e.datepicker,this}getDate(e=void 0){let t=ht(this,e);if(this.config.multidate)return this.dates.map(t);if(this.dates.length>0)return t(this.dates[0])}setDate(...e){let t=[...e],n={},s=j(e);s&&typeof s=="object"&&!Array.isArray(s)&&!(s instanceof Date)&&Object.assign(n,t.pop());let r=Array.isArray(t[0])?t[0]:t;ft(this,r,n)}update(e=void 0){if(!this.inputField)return;let t=Object.assign(e||{},{clear:!0,render:!0,viewDate:void 0}),n=ge(this.inputField.value,this.config.dateDelimiter);ft(this,n,t)}getFocusedDate(e=void 0){return ht(this,e)(this.picker.viewDate)}setFocusedDate(e,t=!1){let{config:n,picker:s,active:r,rangeSideIndex:a}=this,d=n.pickLevel,c=E(e,n.format,n.locale);c!==void 0&&(s.changeFocus(v(c,d,a)),r&&t&&s.changeView(d),s.render())}refresh(e=void 0,t=!1){e&&typeof e!="string"&&(t=e,e=void 0);let n;e==="picker"?n=2:e==="input"?n=1:n=3,me(this,n,!t)}enterEditMode(){let e=this.inputField;!e||e.readOnly||!this.picker.active||this.editMode||(this.editMode=!0,e.classList.add("in-edit"))}exitEditMode(e=void 0){if(!this.inputField||!this.editMode)return;let t=Object.assign({update:!1},e);delete this.editMode,this.inputField.classList.remove("in-edit"),t.update&&this.update(t)}};var gt={"en-AU":{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",monthsTitle:"Months",clear:"Clear",weekStart:1,format:"d/mm/yyyy"}};var wt={id:{days:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"],daysShort:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],daysMin:["Mg","Sn","Sl","Rb","Km","Jm","Sb"],months:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],monthsShort:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agt","Sep","Okt","Nov","Des"],today:"Hari Ini",monthsTitle:"Bulan",clear:"Kosongkan",weekStart:0,format:"dd-mm-yyyy"}};function Nt(i={}){return{init:function(){Object.assign(Y.locales,wt,gt),new Y(this.$refs.input,i)}}}export{Nt as default};
